
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>3 세계은행 WITS API 추출 &#8212; 파이썬을 활용한 무역데이터 분석</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/23 세계은행 WITS API 추출';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4 WTO 데이터 API 추출" href="24%20WTO%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20API%20%EC%B6%94%EC%B6%9C.html" />
    <link rel="prev" title="2 UN Comtrade API 추출" href="22%20UN%20Comtrade%20API%20%EC%B6%94%EC%B6%9C.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="00%20%EC%84%9C%EB%AC%B8.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="파이썬을 활용한 무역데이터 분석 - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="파이썬을 활용한 무역데이터 분석 - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="00%20%EC%84%9C%EB%AC%B8.html">
                    시작하며
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">데이터 분석</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="11%20%EC%9A%B0%EB%A6%AC%EB%82%98%EB%9D%BC%20%EB%AC%B4%EC%97%AD%EC%9D%98%EC%A1%B4%EB%8F%84%20%EC%B6%94%EC%9D%B4.html">1 우리나라 무역의존도 추이</a></li>
<li class="toctree-l1"><a class="reference internal" href="12%20%EC%88%98%EC%B6%9C%EC%9D%98%20%EB%82%B4%EC%9A%A9%EC%9D%84%20%EB%94%B0%EC%A0%B8%EB%B3%B4%EC%9E%90.html">2 수출의 내용을 따져보자</a></li>
<li class="toctree-l1"><a class="reference internal" href="13%20%EC%88%98%EC%B6%9C%20%EB%8B%A4%EA%B0%81%ED%99%94%EB%A5%BC%20%EC%B8%A1%EC%A0%95%ED%95%B4%EB%B3%B4%EC%9E%90.html">3 수출 다각화를 측정해보자</a></li>
<li class="toctree-l1"><a class="reference internal" href="14%20%EC%9E%90%EB%8F%99%EC%B0%A8%20%EC%88%98%EC%B6%9C%EC%9E%85%EC%9D%84%20%EB%8F%99%EC%8B%9C%EC%97%90%20%ED%95%9C%EB%8B%A4.html">4 자동차 수출입을 동시에 한다</a></li>
<li class="toctree-l1"><a class="reference internal" href="15%20%EC%88%98%EC%B6%9C%20%EC%84%B1%EC%9E%A5%20%EB%B6%84%ED%95%B4%ED%95%98%EA%B8%B0.html">5 수출 성장 분해하기</a></li>
<li class="toctree-l1"><a class="reference internal" href="16%20%EC%96%B4%EB%96%A4%20%EB%82%98%EB%9D%BC%EA%B0%80%20%EA%B5%90%EC%97%AD%EC%9D%84%20%EB%A7%8E%EC%9D%B4%20%ED%95%A0%EA%B9%8C.html">6 어떤 나라가 교역을 많이 할까</a></li>
<li class="toctree-l1"><a class="reference internal" href="17%20%EA%B4%80%EC%84%B8%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EA%B8%B0%EC%B4%88%20%EB%B6%84%EC%84%9D.html">7 관세 데이터 기초 분석</a></li>
<li class="toctree-l1"><a class="reference internal" href="18%20%EA%B5%AD%EC%A0%9C%EB%AC%B4%EC%97%AD%20%EC%A4%91%EB%A0%A5%20%EB%AA%A8%ED%98%95%20%EC%B6%94%EC%A0%95.html">8 국제무역 중력 모형 추정</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">데이터 관리</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="21%20%EA%B5%AD%EC%A0%9C%EB%AC%B4%EC%97%AD%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98%20%ED%8A%B9%EC%A7%95.html">1 국제무역 데이터의 특징</a></li>
<li class="toctree-l1"><a class="reference internal" href="22%20UN%20Comtrade%20API%20%EC%B6%94%EC%B6%9C.html">2 UN Comtrade API 추출</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">3 세계은행 WITS API 추출</a></li>
<li class="toctree-l1"><a class="reference internal" href="24%20WTO%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20API%20%EC%B6%94%EC%B6%9C.html">4 WTO 데이터 API 추출</a></li>
<li class="toctree-l1"><a class="reference internal" href="25%20%EA%B4%80%EC%84%B8%EC%B2%AD%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20API%20%EC%B6%94%EC%B6%9C.html">5 관세청 데이터 API 추출</a></li>
<li class="toctree-l1"><a class="reference internal" href="26%20%EA%B5%AD%EC%A0%9C%EB%AC%B4%EC%97%AD%20%EB%B9%85%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EA%B4%80%EB%A6%AC.html">6 국제무역 빅데이터 관리</a></li>
<li class="toctree-l1"><a class="reference internal" href="27%20%EC%84%B8%EA%B3%84%EC%9D%80%ED%96%89%20WBGAPI.html">7 세계은행 WBGAPI</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/pilsunchoi/book2" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pilsunchoi/book2/issues/new?title=Issue%20on%20page%20%2Fnotebooks/23 세계은행 WITS API 추출.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/23 세계은행 WITS API 추출.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>3 세계은행 WITS API 추출</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">1. 개요</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#trains-api">2. TRAINS 데이터 API 추출</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">2.1 내용</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#url">2.2 URL 기반 구조 요청</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#chatgpt-api">ChatGPT 이용 API 호출 코드 작성법</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reporter-and-partner">Reporter and Partner</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nomenclature">Nomenclature</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#product">Product</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#data-availability">Data Availability</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tariff-data">Tariff Data</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdmx">2.3 SDMX 쿼리 요청</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#data-flow">Data Flow</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#code-list">Code List</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#data-structure-definition-dsd">Data Structure Definition (DSD)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Tariff Data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#trade-stats-api">3. TRADE Stats 데이터 API 추출</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">3.1 내용</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">3.2 URL 기반 구조 요청</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Reporter and Partner</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Nomenclature</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Product</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#indicator">Indicator</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Data Availability</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#trade-stats">Trade Stats 데이터</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">3.3 SDMX 쿼리 요청</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Data Flow</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Code List</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Data Structure Definition (DSD)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Trade Stats 데이터</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">4. 관세 데이터 추출</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">파라미터 및 반환 항목</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">예 1: 한국 2000년 관세 데이터</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">예 2: 한국 2000-23년 관세 데이터</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">5. 무역 통계 데이터 추출</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indicator-product">파라미터 및 Indicator &amp; Product 코드</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#trade">예 1: 한국 Trade</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tariff">예 2: 한국 Tariff</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="wits-api">
<h1>3 세계은행 WITS API 추출<a class="headerlink" href="#wits-api" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="#1.-%EA%B0%9C%EC%9A%94"><span class="xref myst">1. 개요</span></a></p></li>
<li><p><a class="reference internal" href="#2.-TRAINS-%EB%8D%B0%EC%9D%B4%ED%84%B0-API-%EC%B6%94%EC%B6%9C"><span class="xref myst">2. TRAINS 데이터 API 추출</span></a></p></li>
<li><p><a class="reference internal" href="#3.-TRADE-Stats-%EB%8D%B0%EC%9D%B4%ED%84%B0-API-%EC%B6%94%EC%B6%9C"><span class="xref myst">3. TRADE Stats 데이터 API 추출</span></a></p></li>
<li><p><a class="reference internal" href="#4.-%EA%B4%80%EC%84%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B6%94%EC%B6%9C"><span class="xref myst">4. 관세 데이터 추출</span></a></p></li>
<li><p><a class="reference internal" href="#5.-%EB%AC%B4%EC%97%AD-%ED%86%B5%EA%B3%84-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B6%94%EC%B6%9C"><span class="xref myst">5. 무역 통계 데이터 추출</span></a></p></li>
</ul>
<section id="id1">
<h2>1. 개요<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p>WITS REST API를 사용하여 세계은행(World Bank)의 WITS 데이터베이스에 프로그래밍 방식으로 접근할 수 있다. 현재 <strong>UNCTAD TRAINS</strong> 데이터세트와 <strong>Trade Stats</strong>가 API 모듈을 통해 제공되고 있다. WITS API 모듈은 SDMX 방식과 URL 기반 구조 두 가지 요청 형식을 지원하며, 두 요청 방식의 데이터 응답 구조는 동일하며 현재 XML 형식으로 제공된다.</p>
<blockquote>
<div><p><strong>참고: SDMX 방식 vs. URL 기반 방식</strong></p>
<p>SDMX 방식과 URL 기반 방식의 차이점은 데이터 요청과 전송 방식의 구조적 차이에서 비롯된다. 일반적으로 다음과 같은 차이가 있다. SDMX 방식은 SDMX(Statistical Data and Metadata Exchange) 표준을 따르는 XML 또는 JSON 기반의 구조화된 데이터 요청 방식을 사용한다. 데이터 요청이 계층적으로 구성되며, 다양한 데이터 소스와의 호환성이 높다. URL 기반 방식은 API 엔드포인트에 특정 URL 패턴을 사용하여 데이터를 요청하는 방식이다. RESTful API의 형식을 따르며, 일반적으로 직관적이고 간단한 구조를 갖는다.(<strong>REST</strong>는 Representational State Transfer의 약자로서 인터넷을 통해 데이터를 주고받는 방법을 표준화한 것임)</p>
</div></blockquote>
<blockquote>
<div><p><strong>참고: <a class="reference external" href="https://wits.worldbank.org/Default.aspx?lang=en">WITS(World Integrated Trade Solution)</a></strong></p>
<p>세계은행은 UN무역개발회의(UNCTAD), 국제무역센터(ITC), 유엔 통계국(UNSD), 세계무역기구(WTO) 등의 기관과 협의하여 무역 및 관세 정보를 조회하고 검색할 수 있는 세계통합무역솔루션(WITS)을 개발했다. 다음과 같은 데이터베이스에 접근이 가능하다.</p>
<p><strong>1. UN Comtrade</strong><br />
UN Comtrade(UNSD Commodity Trade) 데이터베이스는 상품 무역의 수출 및 수입 데이터를 품목별, 교역 상대국별로 제공한다. 이 데이터베이스는 170개 이상의 나라 정보를 포함하며, 1962년 이후 유엔에 보고된 통계를 제공한다. 모든 통계 및 데이터는 국제적으로 인정된 무역 및 관세 분류 체계에 따라 기록된다.
<br><br>
<strong>2. UNCTAD TRAINS</strong><br />
TRAINS(Trade Analysis Information System) 데이터베이스는 160개 이상의 나라에 대한 관세 및 비관세 조치 정보를 제공한다. 관세 및 비관세 조치 데이터는 가장 상세한 상품 코드 체계(HS, Harmonized System), 즉 나라별 관세품목(National Tariff Line) 수준에서 기록된다. 관세 정보에는 최혜국(MFN) 실행 관세율뿐만 아니라, 일반특혜관세(GSP), 지역무역협정(RTA), 기타 양자 간 특혜무역협정(PTA) 등의 관세율도 포함된다.
<br><br>
<strong>3. WTO IDB 및 CTS</strong><br />
WTO의 IDB(Integrated Data Base)는 품목별 및 교역 상대국별 수입 데이터를 제공하며, 적용 최혜국(MFN) 관세율 및 가능할 경우 특혜 관세율도 가장 상세한 품목 수준에서 제공한다. CTS(Consolidated Tariff Schedule Data Base)는 WTO 양허관세, 초기 협상권(Initial Negotiating Right), 기타 지표를 포함한다. CTS는 각국이 상품 협상(예: 우루과이라운드 다자간 무역협상)에서 양보한 사항을 반영한다.
<br><br>
<strong>4. Global Preferential Trade Agreements Database</strong><br />
세계은행 및 다트머스대 터크 경영대학원 국제비즈니스센터의 글로벌특혜무역협정 데이터베이스는 세계 각국의 특혜무역협정(PTA) 정보를 제공한다. 특히, WTO에 아직 공식적으로 통보되지 않은 협정도 포함된다.</p>
</div></blockquote>
</section>
<section id="trains-api">
<h2>2. TRAINS 데이터 API 추출<a class="headerlink" href="#trains-api" title="Link to this heading">#</a></h2>
<section id="id2">
<h3>2.1 내용<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p>UNCTAD TRAINS 데이터세트에는 특혜(<code class="docutils literal notranslate"><span class="pre">PREF</span></code>) 및 최혜국(<code class="docutils literal notranslate"><span class="pre">MFN</span></code>) 관세율이 들어 있다. 데이터는 HS의 6자리 수준에서 나라 간에 조정된다. 관세 데이터는 아래의 값을 지정하여 다운로드할 수 있다.</p>
<ul class="simple">
<li><p><strong>Reporter:</strong> 보고자 ISO 나라 코드.</p></li>
<li><p><strong>Partner:</strong> (특혜) 관세율이 적용되는 나라 또는 나라 그룹.</p></li>
<li><p><strong>Product Code:</strong> 6자리 HS 코드.</p></li>
<li><p><strong>Year:</strong> 관세가 유효했던 연도.</p></li>
<li><p><strong>Data Type:</strong> 보고된 관세율만 있거나 또는 보고된 관세율과 UNCTAD 방법을 사용하여 추정된 AVE(Ad Valorem Equivalent; 종가세로 환산한) 관세율.</p></li>
</ul>
<p><strong>데이터 요청 제한</strong></p>
<p>서버 과부하를 피하기 위한 제한 사항:</p>
<ul class="simple">
<li><p>모든 제품의 관세율은 단일 보고자, 파트너 및 연도에 대해 요청할 수 있다.</p></li>
<li><p>단일의 보고자, 파트너, 제품에 대한 관세 일정은 여러 연도에 대해 요청할 수 있다.</p></li>
<li><p>하나 이상의 보고자, 하나 이상의 파트너, 하나 이상의 제품에 대한 관세율은 단일 연도에 대해 요청할 수 있다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reported</span></code> 데이터 유형 또는 AVE estimated(<code class="docutils literal notranslate"><span class="pre">aveestimated</span></code>) 데이터 유형 중 하나를 단일 요청에서 요청할 수 있다.</p></li>
</ul>
<p><strong>기본 호출 구조</strong></p>
<p>WITS API에 액세스하는 기본 URL: <a class="reference external" href="https://wits.worldbank.org/API/V1">https://wits.worldbank.org/API/V1</a>.</p>
<p><strong>URL 기반 구조 쿼리</strong></p>
<p><strong>Meta data</strong>와 <strong>data availability</strong>에 액세스하는 기본 URL: <a class="reference external" href="https://wits.worldbank.org/API/V1/WITS">https://wits.worldbank.org/API/V1/WITS</a>. Data availability API는 UNCTAD TRAINS 관세 데이터세트에서 이용 가능한 나라/기간을 반환한다. 또한 이 API는 이용 가능한 파트너 코드와 특정 나라 기간에 대해 “종량세 관세 표현에 대한 추정 관세율”(estimated duty rate for specific duty expression)이 사용 가능한지 여부를 반환한다.</p>
<p><strong>Tariff data</strong> 요청의 기본 URL: <a class="reference external" href="https://wits.worldbank.org/API/V1/SDMX/V21/">https://wits.worldbank.org/API/V1/SDMX/V21/</a>. 나라 및 파트너 이름을 얻으려면 <strong>Reporter-Partner</strong> API를 사용한다. 분류법 제목과 제품 설명을 얻으려면 각각 <strong>nomenclature</strong> API와 <strong>Product</strong> API를 사용한다. JSON 형식으로 관세 데이터를 얻으려면 데이터 요청 쿼리에 <code class="docutils literal notranslate"><span class="pre">?format=JSON</span></code>을 넣는다.</p>
<p>파라미터에 대해 둘 이상의 값에 액세스하려면 구분자 <code class="docutils literal notranslate"><span class="pre">;</span></code>를 사용하여 값을 구분한다.</p>
<p><strong>SDMX 쿼리</strong></p>
<ul class="simple">
<li><p>data flow, code list, Data Structure Definition(DSD)에 액세스하는 기본 URL: <a class="reference external" href="http://wits.worldbank.org/API/V1/SDMX/V21/rest/">http://wits.worldbank.org/API/V1/SDMX/V21/rest/</a>.</p></li>
<li><p>무역 통계-무역 데이터세트: <a class="reference external" href="http://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_trade">http://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_trade</a>,</p></li>
<li><p>무역 통계-관세 데이터세트: <a class="reference external" href="http://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_tariff">http://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_tariff</a>,</p></li>
<li><p>개발 데이터세트: <a class="reference external" href="http://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_development">http://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_development</a>.</p></li>
</ul>
<p><strong>반환되는 항목</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>항목</p></th>
<th class="head text-left"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>SimpleAverage</p></td>
<td class="text-left"><p>해당 HS 6자리 코드 내 모든 나라 관세라인의 종가세율 단순 평균. OBS_Value는 응답에서 단순 평균.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>TARIFFTYPE</p></td>
<td class="text-left"><p>관세율이 특혜 관세(PREF)인지 최혜국 관세(MFN)인지 식별함.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>TOTALNOOFLINES</p></td>
<td class="text-left"><p>해당 HS 6자리 코드 내 모든 나라 관세라인의 총 수.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>NBR_PREF_LINES</p></td>
<td class="text-left"><p>특혜 관세가 적용되는 해당 HS 6자리 코드 내 국가 관세라인의 수.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>NBR_MFN_LINES</p></td>
<td class="text-left"><p>특혜 관세가 적용되지 않는 해당 HS 6자리 코드 내 국가 관세라인의 수 (단순 평균 계산에 MFN 요율이 사용됨).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>NBR_NA_LINES</p></td>
<td class="text-left"><p>종가세 형태가 아닌 특혜 관세가 적용되는 해당 HS 6자리 코드 내 국가 관세라인의 수 (단순 평균 계산에 포함되지 않음).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>SUM_OF_RATES</p></td>
<td class="text-left"><p>해당 HS 6자리 코드 내 모든 나라 관세라인의 종가세율 합계.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>MIN_RATE</p></td>
<td class="text-left"><p>해당 HS 6자리 코드 내 모든 나라 관세라인 중 가장 낮은 종가세율.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>MAX_RATE</p></td>
<td class="text-left"><p>해당 HS 6자리 코드 내 모든 나라 관세라인 중 가장 높은 종가세율.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>NOMENCODE</p></td>
<td class="text-left"><p>사용된 HS 개정판 (H0 = HS 1988/92, H1 = HS 1996, H2 = HS 2002, H3 = HS 2007, H4 = HS 2012).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>EXCLUDEDFROM</p></td>
<td class="text-left"><p>해당 제품에 대해 특혜 관세 적용에서 제외된 나라의 나라 코드.</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p><strong>참고: 특혜 관세 vs. 최혜국 관세</strong></p>
<p>특혜 관세(<code class="docutils literal notranslate"><span class="pre">PREF</span></code>)은 특정 나라들 간의 무역 협정에 따라 적용되는 낮은 관세율이다. 예를 들어, 자유무역협정(FTA)이나 관세 동맹에 참여하는 나라들끼리는 서로에게 낮은 관세를 부과한다. 최혜국 관세(<code class="docutils literal notranslate"><span class="pre">MFN</span></code>)는 세계무역기구(WTO) 회원국 간에 기본적으로 적용되는 관세율이다. 특혜무역협정에 포함되지 않은 경우, 이 관세율이 적용된다. MFN 관세율은 일반적으로 가장 높은(가장 제한적인) 관세율이다. 쉽게 말해, 특혜 관세는 특정 나라들끼리 서로 낮은 관세를 적용하는 것이고, 최혜국 관세는 모든 WTO 회원국 간에 기본적으로 적용되는 관세율이다.</p>
</div></blockquote>
</section>
<section id="url">
<h3>2.2 URL 기반 구조 요청<a class="headerlink" href="#url" title="Link to this heading">#</a></h3>
<section id="chatgpt-api">
<h4>ChatGPT 이용 API 호출 코드 작성법<a class="headerlink" href="#chatgpt-api" title="Link to this heading">#</a></h4>
<p>이 장의 모든 API 요청 파이썬 코드는 ChatGPT를 활용하여 작성한 것이다. 첫 번째 “Reporter and Partner” 메타데이터를 얻는 코드를 예로 들어 ChatGPT 사용법을 설명하면 다음과 같다.</p>
<p><strong>STEP 1:</strong> “Reporter and Partner” API 요청과 관련된 내용이 <a class="reference external" href="https://wits.worldbank.org/data/public/WITSAPI_UserGuide.pdf">WITS API USER GUIDE</a> p.6)에 나와 있는데, 그 내용을 그대로 복사해서 ChatGPT에 다음과 같은 식으로 코드 작성을 요청한다.(아래 내용 중에는 필요한 핵심 요청사항 외에도 여러 정보들이 들어있는데 모두 다 집어 넣어도 ChatGPT가 알아서 잘 처리한다.)</p>
<blockquote>
<div><p><strong>다음 API를 호출하여 데이터프레임으로 변환하는 파이썬 코드를 알려줘.</strong></p>
<br>
<p>Reporter and Partner:</p>
<p>This API helps to obtain reporter and partner name, alpha numeric code, ISO3 code and other.</p>
<p>Meta data about the countries that are available in the UNCTAD TRAINS dataset.</p>
<p>URL: <a class="reference external" href="https://wits.worldbank.org/API/V1/wits/datasource/trn/country/ALL%7C:CountryCode%7C:CountryCodeList">https://wits.worldbank.org/API/V1/wits/datasource/trn/country/ALL|:CountryCode|:CountryCodeList</a></p>
<p>Method:<br />
GET</p>
<p>URL Parameter:<br />
ALL: To retrieve all countries/partners Meta data.<br />
:CountryCode= Three letter alpha numeric country code<br />
:CountryCodeList= List of three letter alpha numeric country codes separated by delimiter(;)</p>
<p>Response Format:<br />
XML</p>
<p>Success Response:<br />
HTTP Response Status Code: 200</p>
<p>Content: The response has the following information about the requested country/partner<br />
• Country Code<br />
• ISO3 Code<br />
• Name<br />
• Is the country code available as reporter?<br />
• Is the country code available as partner?<br />
• Is it a country code group?<br />
• Group Type<br />
• Notes</p>
<p>Sample Request:<br />
To request all countries:<br />
<a class="reference external" href="https://wits.worldbank.org/API/V1/wits/datasource/trn/country/ALL">https://wits.worldbank.org/API/V1/wits/datasource/trn/country/ALL</a><br />
To request a specific country:<br />
<a class="reference external" href="https://wits.worldbank.org/API/V1/wits/datasource/trn/country/004">https://wits.worldbank.org/API/V1/wits/datasource/trn/country/004</a><br />
To request list of countries:<br />
<a class="reference external" href="https://wits.worldbank.org/API/V1/wits/datasource/trn/country/004;840;G24">https://wits.worldbank.org/API/V1/wits/datasource/trn/country/004;840;G24</a></p>
</div></blockquote>
<p><strong>STEP 2:</strong> ChatGPT가 제공한 코드를 실행해보고, 만약 결과가 제대로 나오지 않는 경우에는 다음과 같이 response의 일부(예: 처음 2000자)를 출력하여 XML(또는 JSON) 구조를 ChatGPT에게 알려주고 코드를 수정시킨다. 즉, 아래의 출력 결과를 주면서 “응답의 처음 2000자를 확인한 결과다. 이를 이용해 코드를 수정해줘.”라고 요구한다.</p>
<blockquote>
<div><p>print(response.text[:2000])  # 앞부분 2000자 출력</p>
</div></blockquote>
</section>
<section id="reporter-and-partner">
<h4>Reporter and Partner<a class="headerlink" href="#reporter-and-partner" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 Reporter와 Partner 이름, 영어-숫자 코드, ISO3 코드 등을 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/wits/datasource/trn/country/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">country_codes</span> <span class="o">=</span> <span class="s2">&quot;ALL&quot;</span>
<span class="c1">#country_codes = &quot;410;840&quot;</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">country_codes</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://wits.worldbank.org}&quot;</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">country</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">country&quot;</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;CountryCode&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;countrycode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;ISO3Code&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">iso3Code&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">iso3Code&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">name&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;IsReporter&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isreporter&quot;</span><span class="p">),</span>
        <span class="s2">&quot;IsPartner&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ispartner&quot;</span><span class="p">),</span>
        <span class="s2">&quot;IsGroup&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isgroup&quot;</span><span class="p">),</span>
        <span class="s2">&quot;GroupType&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;grouptype&quot;</span><span class="p">),</span>
        <span class="s2">&quot;Notes&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">notes&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">notes&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_selected_countries</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_selected_countries</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CountryCode</th>
      <th>ISO3Code</th>
      <th>Name</th>
      <th>IsReporter</th>
      <th>IsPartner</th>
      <th>IsGroup</th>
      <th>GroupType</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A01</td>
      <td>A01</td>
      <td>Selected Developing Countries for Switzerland</td>
      <td>0</td>
      <td>1</td>
      <td>Yes</td>
      <td>Beneficiaries</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A02</td>
      <td>A02</td>
      <td>Caribbean Economic Recovery Act: USA 2007</td>
      <td>0</td>
      <td>1</td>
      <td>Yes</td>
      <td>Beneficiaries</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A03</td>
      <td>A03</td>
      <td>Caribbean Economic Recovery Act: USA 2009</td>
      <td>0</td>
      <td>1</td>
      <td>Yes</td>
      <td>Beneficiaries</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A04</td>
      <td>A04</td>
      <td>Preferential tariff for selected african count...</td>
      <td>0</td>
      <td>1</td>
      <td>Yes</td>
      <td>Beneficiaries</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A05</td>
      <td>A05</td>
      <td>Norway tariff for lower income GSP countries</td>
      <td>0</td>
      <td>1</td>
      <td>Yes</td>
      <td>Beneficiaries</td>
      <td>None</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>476</th>
      <td>890</td>
      <td>YUG</td>
      <td>Yugoslavia,FR(Serbia/Montenegr</td>
      <td>0</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>477</th>
      <td>710</td>
      <td>ZAF</td>
      <td>South Africa</td>
      <td>1</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>478</th>
      <td>180</td>
      <td>ZAR</td>
      <td>Congo, Dem. Rep.</td>
      <td>1</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>479</th>
      <td>894</td>
      <td>ZMB</td>
      <td>Zambia</td>
      <td>1</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>480</th>
      <td>716</td>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>1</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
<p>481 rows × 8 columns</p>
</div></div></div>
</div>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>코드</p></th>
<th class="head text-left"><p>내용</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>CountryCode</p></td>
<td class="text-left"><p>나라 코드</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>ISO3Code</p></td>
<td class="text-left"><p>ISO3 코드</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Name</p></td>
<td class="text-left"><p>이름</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>IsReporter</p></td>
<td class="text-left"><p>나라 코드가 Reporter로 사용 가능한지 여부</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>IsPartner</p></td>
<td class="text-left"><p>나라 코드가 Partner로 사용 가능한지 여부</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>IsGroup</p></td>
<td class="text-left"><p>그룹 여부</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>GroupType</p></td>
<td class="text-left"><p>그룹 유형</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Notes</p></td>
<td class="text-left"><p>비고</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nomenclature">
<h4>Nomenclature<a class="headerlink" href="#nomenclature" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 UNCTAD TRAINS 데이터세트에서 사용되는 제품 분류법(Nomenclature)에 대한 정보를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/wits/datasource/trn/nomenclature/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">nomen_codes</span> <span class="o">=</span> <span class="s2">&quot;ALL&quot;</span>
<span class="c1">#nomen_codes = &quot;H0;H4&quot;</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">nomen_codes</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://wits.worldbank.org}&quot;</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">nomen</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">nomenclature&quot;</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;NomenCode&quot;</span><span class="p">:</span> <span class="n">nomen</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nomenclaturecode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;NomenDescription&quot;</span><span class="p">:</span> <span class="n">nomen</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">),</span>
        <span class="s2">&quot;NomenName&quot;</span><span class="p">:</span> <span class="n">nomen</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">nomen</span><span class="o">.</span><span class="n">text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_nomenclature</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_nomenclature</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>NomenCode</th>
      <th>NomenDescription</th>
      <th>NomenName</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>H0</td>
      <td>Harmonized System 1988/92</td>
      <td>HS 1988/92</td>
    </tr>
    <tr>
      <th>1</th>
      <td>H1</td>
      <td>Harmonized System 1996</td>
      <td>HS 1996</td>
    </tr>
    <tr>
      <th>2</th>
      <td>H2</td>
      <td>Harmonized System 2002</td>
      <td>HS 2002</td>
    </tr>
    <tr>
      <th>3</th>
      <td>H3</td>
      <td>Harmonized System 2007</td>
      <td>HS 2007</td>
    </tr>
    <tr>
      <th>4</th>
      <td>H4</td>
      <td>Harmonized System 2012</td>
      <td>HS 2012</td>
    </tr>
    <tr>
      <th>5</th>
      <td>H5</td>
      <td>Harmonized System 2017</td>
      <td>HS 2017</td>
    </tr>
    <tr>
      <th>6</th>
      <td>H6</td>
      <td>Harmonized System 2022</td>
      <td>HS 2022</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="product">
<h4>Product<a class="headerlink" href="#product" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 UNCTAD TRAINS 데이터세트에서 사용 가능한 Product에 대한 정보를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/wits/datasource/trn/product/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">product_codes</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">product_codes</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://wits.worldbank.org}&quot;</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">product&quot;</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;ProductCode&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;productcode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;ProductDescription&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">),</span>
        <span class="s2">&quot;IsGroup&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isgroup&quot;</span><span class="p">),</span>
        <span class="s2">&quot;GroupType&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;grouptype&quot;</span><span class="p">),</span>
        <span class="s2">&quot;Notes&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">notes&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">product</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">notes&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_product</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_product</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ProductCode</th>
      <th>ProductDescription</th>
      <th>IsGroup</th>
      <th>GroupType</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>010110</td>
      <td>None</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>010111</td>
      <td>None</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>010119</td>
      <td>None</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>010120</td>
      <td>None</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>010121</td>
      <td>None</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>6877</th>
      <td>970531</td>
      <td>None</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>6878</th>
      <td>970539</td>
      <td>None</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>6879</th>
      <td>970600</td>
      <td>None</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>6880</th>
      <td>970610</td>
      <td>None</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>6881</th>
      <td>970690</td>
      <td>None</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
<p>6882 rows × 5 columns</p>
</div></div></div>
</div>
<p><strong>NOTE!!</strong></p>
<p>위 출력 결과를 보면 <code class="docutils literal notranslate"><span class="pre">ProductDescription</span></code>이 제대로 추출되지 않았다. 다음과 같이 response의 앞부분 2000자를 출력하여 XML 구조를 ChatGPT에게 (출력된 내용을 그대로) 알려주고 코드 수정을 요구한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">[:</span><span class="mi">2000</span><span class="p">])</span> <span class="c1"># 앞부분 2000자 출력</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ï»¿&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;wits:datasource datasourcecode=&quot;TRN&quot; datasourcename=&quot;WITS - UNTCTAD TRAINS&quot; language=&quot;en&quot; total=&quot;6882&quot; xmlns:wits=&quot;http://wits.worldbank.org&quot;&gt;
  &lt;wits:products&gt;
    &lt;wits:product productcode=&quot;010110&quot; isgroup=&quot;No&quot; nomenclaturecode=&quot;HS&quot; grouptype=&quot;N/A&quot;&gt;
      &lt;wits:productdescription&gt;010110 -- (2002-2011) - Pure-bred breeding animals&lt;/wits:productdescription&gt;
      &lt;wits:notes /&gt;
    &lt;/wits:product&gt;
    &lt;wits:product productcode=&quot;010111&quot; isgroup=&quot;No&quot; nomenclaturecode=&quot;HS&quot; grouptype=&quot;N/A&quot;&gt;
      &lt;wits:productdescription&gt;010111 -- (-2001) -- Pure-bred breeding animals&lt;/wits:productdescription&gt;
      &lt;wits:notes /&gt;
    &lt;/wits:product&gt;
    &lt;wits:product productcode=&quot;010119&quot; isgroup=&quot;No&quot; nomenclaturecode=&quot;HS&quot; grouptype=&quot;N/A&quot;&gt;
      &lt;wits:productdescription&gt;010119 -- (-2001) -- Other&lt;/wits:productdescription&gt;
      &lt;wits:notes /&gt;
    &lt;/wits:product&gt;
    &lt;wits:product productcode=&quot;010120&quot; isgroup=&quot;No&quot; nomenclaturecode=&quot;HS&quot; grouptype=&quot;N/A&quot;&gt;
      &lt;wits:productdescription&gt;010120 -- (-2001) - Asses, mules and hinnies&lt;/wits:productdescription&gt;
      &lt;wits:notes /&gt;
    &lt;/wits:product&gt;
    &lt;wits:product productcode=&quot;010121&quot; isgroup=&quot;No&quot; nomenclaturecode=&quot;HS&quot; grouptype=&quot;N/A&quot;&gt;
      &lt;wits:productdescription&gt;010121 -- (2012-) -- Pure-bred breeding animals&lt;/wits:productdescription&gt;
      &lt;wits:notes /&gt;
    &lt;/wits:product&gt;
    &lt;wits:product productcode=&quot;010129&quot; isgroup=&quot;No&quot; nomenclaturecode=&quot;HS&quot; grouptype=&quot;N/A&quot;&gt;
      &lt;wits:productdescription&gt;010129 -- (2012-) -- Other&lt;/wits:productdescription&gt;
      &lt;wits:notes /&gt;
    &lt;/wits:product&gt;
    &lt;wits:product productcode=&quot;010130&quot; isgroup=&quot;No&quot; nomenclaturecode=&quot;HS&quot; grouptype=&quot;N/A&quot;&gt;
      &lt;wits:productdescription&gt;010130 -- (2012-) - Asses&lt;/wits:productdescription&gt;
      &lt;wits:notes /&gt;
    &lt;/wits:product&gt;
    &lt;wits:product productcode=&quot;010190&quot; isgroup=&quot;No&quot; nomenclaturecode=&quot;HS&quot; grouptype=&quot;N/A&quot;&gt;
      &lt;wits:productdescription&gt;010190 -- (2002-) - Other&lt;/wits:productdescript
</pre></div>
</div>
</div>
</div>
<p><strong>수정된 결과</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/wits/datasource/trn/product/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">product_codes</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">product_codes</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;wits&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wits.worldbank.org&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//wits:product&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="n">product_description</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;wits:productdescription&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;wits:notes&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>

    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;ProductCode&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;productcode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;ProductDescription&quot;</span><span class="p">:</span> <span class="n">product_description</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">product_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;IsGroup&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isgroup&quot;</span><span class="p">),</span>
        <span class="s2">&quot;NomenclatureCode&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nomenclaturecode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;GroupType&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;grouptype&quot;</span><span class="p">),</span>
        <span class="s2">&quot;Notes&quot;</span><span class="p">:</span> <span class="n">notes</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">notes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_product</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_product</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ProductCode</th>
      <th>ProductDescription</th>
      <th>IsGroup</th>
      <th>NomenclatureCode</th>
      <th>GroupType</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>010110</td>
      <td>010110 -- (2002-2011) - Pure-bred breeding ani...</td>
      <td>No</td>
      <td>HS</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>010111</td>
      <td>010111 -- (-2001) -- Pure-bred breeding animals</td>
      <td>No</td>
      <td>HS</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>010119</td>
      <td>010119 -- (-2001) -- Other</td>
      <td>No</td>
      <td>HS</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>010120</td>
      <td>010120 -- (-2001) - Asses, mules and hinnies</td>
      <td>No</td>
      <td>HS</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>010121</td>
      <td>010121 -- (2012-) -- Pure-bred breeding animals</td>
      <td>No</td>
      <td>HS</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>6877</th>
      <td>970531</td>
      <td>970531 -- (2022) -- Collections and collectors...</td>
      <td>No</td>
      <td>HS</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>6878</th>
      <td>970539</td>
      <td>970539 -- (2022) -- Collections and collectors...</td>
      <td>No</td>
      <td>HS</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>6879</th>
      <td>970600</td>
      <td>970600 --  Antiques of an age exceeding 100 years</td>
      <td>No</td>
      <td>HS</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>6880</th>
      <td>970610</td>
      <td>970610 -- (2022) -- Antiques; of an age exceed...</td>
      <td>No</td>
      <td>HS</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>6881</th>
      <td>970690</td>
      <td>970690 -- (2022) -- Antiques; of an age exceed...</td>
      <td>No</td>
      <td>HS</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
<p>6882 rows × 6 columns</p>
</div></div></div>
</div>
</section>
<section id="data-availability">
<h4>Data Availability<a class="headerlink" href="#data-availability" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 전체 TRAINS 데이터세트의 데이터 Availability(가용성) 또는 하나 이상의 Reporter에 대한 데이터 가용성 또는 주어진 연도의 tariff available countries information을 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/wits/datasource/trn/dataavailability/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>

<span class="c1">#country_codes = &quot;all&quot;</span>
<span class="c1">#years = &quot;all&quot;</span>
<span class="n">country_codes</span> <span class="o">=</span> <span class="s2">&quot;410&quot;</span>
<span class="n">years</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">/country/</span><span class="si">{</span><span class="n">country_codes</span><span class="si">}</span><span class="s2">/year/</span><span class="si">{</span><span class="n">years</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://wits.worldbank.org}&quot;</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">reporter</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">reporter&quot;</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;CountryCode&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;countrycode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;ISO3Code&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iso3Code&quot;</span><span class="p">),</span>
        <span class="s2">&quot;IsGroup&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isgroup&quot;</span><span class="p">),</span>
        <span class="s2">&quot;GroupType&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;grouptype&quot;</span><span class="p">),</span>
        <span class="s2">&quot;CountryName&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">name&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Year&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">year&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">year&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;ReportedNomenclature&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">reporternernomenclature&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">reporternernomenclature&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;PreferentialAgreements&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">numberofpreferentialagreement&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">numberofpreferentialagreement&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;PartnerList&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">partnerlist&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">partnerlist&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;EstimatedTariffAvailable&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">isspecificdutyexpressionestimatedavailable&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">isspecificdutyexpressionestimatedavailable&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Notes&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">notes&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">notes&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;LastUpdated&quot;</span><span class="p">:</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">lastupdateddate&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">reporter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">lastupdateddate&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_data_availability</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_data_availability</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CountryCode</th>
      <th>ISO3Code</th>
      <th>IsGroup</th>
      <th>GroupType</th>
      <th>CountryName</th>
      <th>Year</th>
      <th>ReportedNomenclature</th>
      <th>PreferentialAgreements</th>
      <th>PartnerList</th>
      <th>EstimatedTariffAvailable</th>
      <th>Notes</th>
      <th>LastUpdated</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>1988</td>
      <td>Harmonized System 1988/92</td>
      <td>6</td>
      <td>000;050;418;N01;N45;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>1</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>1989</td>
      <td>Harmonized System 1988/92</td>
      <td>3</td>
      <td>000;418;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>2</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>1990</td>
      <td>Harmonized System 1988/92</td>
      <td>1</td>
      <td>000;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>3</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>1992</td>
      <td>Harmonized System 1988/92</td>
      <td>1</td>
      <td>000;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>4</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>1995</td>
      <td>Harmonized System 1988/92</td>
      <td>1</td>
      <td>000;</td>
      <td>No</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>5</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>1996</td>
      <td>Harmonized System 1996</td>
      <td>1</td>
      <td>000;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>6</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>1997</td>
      <td>Harmonized System 1996</td>
      <td>1</td>
      <td>000;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2015/03/03</td>
    </tr>
    <tr>
      <th>7</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>1998</td>
      <td>Harmonized System 1996</td>
      <td>1</td>
      <td>000;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2015/03/03</td>
    </tr>
    <tr>
      <th>8</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>1999</td>
      <td>Harmonized System 1996</td>
      <td>0</td>
      <td>000;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>9</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2000</td>
      <td>Harmonized System 1996</td>
      <td>1</td>
      <td>000;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2015/03/03</td>
    </tr>
    <tr>
      <th>10</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2001</td>
      <td>Harmonized System 1996</td>
      <td>3</td>
      <td>000;L17;Q02;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2015/03/03</td>
    </tr>
    <tr>
      <th>11</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2002</td>
      <td>Harmonized System 2002</td>
      <td>1</td>
      <td>000;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>12</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2003</td>
      <td>Harmonized System 2002</td>
      <td>5</td>
      <td>000;L17;M03;N01;Q02;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2015/03/03</td>
    </tr>
    <tr>
      <th>13</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2004</td>
      <td>Harmonized System 2002</td>
      <td>4</td>
      <td>000;152;L17;N01;N45;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>14</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2005</td>
      <td>Harmonized System 2002</td>
      <td>5</td>
      <td>000;L17;M03;N01;Q02;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2015/03/03</td>
    </tr>
    <tr>
      <th>15</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2006</td>
      <td>Harmonized System 2002</td>
      <td>5</td>
      <td>000;152;L17;M01;N45;N96;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>16</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2007</td>
      <td>Harmonized System 2007</td>
      <td>11</td>
      <td>000;152;352;578;702;756;L17;M01;M03;N52;N56;N96;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>17</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2008</td>
      <td>Harmonized System 2007</td>
      <td>5</td>
      <td>000;L17;M03;N01;Q02;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2015/03/03</td>
    </tr>
    <tr>
      <th>18</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2009</td>
      <td>Harmonized System 2007</td>
      <td>5</td>
      <td>000;050;418;L90;M03;N96;Q02;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>19</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2010</td>
      <td>Harmonized System 2007</td>
      <td>5</td>
      <td>000;L90;M03;N96;Q02;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2014/08/04</td>
    </tr>
    <tr>
      <th>20</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2011</td>
      <td>Harmonized System 2007</td>
      <td>4</td>
      <td>000;L17;M03;N01;Q02;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2015/03/03</td>
    </tr>
    <tr>
      <th>21</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2012</td>
      <td>Harmonized System 2012</td>
      <td>5</td>
      <td>000;L17;M03;N01;Q02;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2015/03/03</td>
    </tr>
    <tr>
      <th>22</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2013</td>
      <td>Harmonized System 2012</td>
      <td>5</td>
      <td>000;L17;M03;N01;Q02;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2015/03/03</td>
    </tr>
    <tr>
      <th>23</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2014</td>
      <td>Harmonized System 2012</td>
      <td>25</td>
      <td>000;050;104;152;352;356;360;408;418;458;578;60...</td>
      <td>Yes</td>
      <td>None</td>
      <td>2015/08/20</td>
    </tr>
    <tr>
      <th>24</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2015</td>
      <td>Harmonized System 2012</td>
      <td>27</td>
      <td>000;036;050;104;124;152;352;356;360;408;418;45...</td>
      <td>Yes</td>
      <td>None</td>
      <td>2016/04/01</td>
    </tr>
    <tr>
      <th>25</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2016</td>
      <td>Harmonized System 2012</td>
      <td>5</td>
      <td>000;L17;M03;N01;Q02;</td>
      <td>Yes</td>
      <td>None</td>
      <td>2017/10/05</td>
    </tr>
    <tr>
      <th>26</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2017</td>
      <td>Harmonized System 2017</td>
      <td>26</td>
      <td>000;036;050;124;152;156;170;352;356;408;418;55...</td>
      <td>Yes</td>
      <td>None</td>
      <td>2018/08/06</td>
    </tr>
    <tr>
      <th>27</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2018</td>
      <td>Harmonized System 2017</td>
      <td>26</td>
      <td>000;036;050;124;152;156;170;352;356;408;418;55...</td>
      <td>Yes</td>
      <td>None</td>
      <td>2019/07/03</td>
    </tr>
    <tr>
      <th>28</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2020</td>
      <td>Harmonized System 2017</td>
      <td>26</td>
      <td>000;036;050;124;152;156;170;352;356;408;418;55...</td>
      <td>Yes</td>
      <td>None</td>
      <td>2021/08/30</td>
    </tr>
    <tr>
      <th>29</th>
      <td>410</td>
      <td>KOR</td>
      <td>No</td>
      <td>N/A</td>
      <td>Korea, Rep.</td>
      <td>2021</td>
      <td>Harmonized System 2017</td>
      <td>32</td>
      <td>000;036;050;124;152;156;170;188;222;340;352;35...</td>
      <td>Yes</td>
      <td>None</td>
      <td>2022/09/09</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="tariff-data">
<h4>Tariff Data<a class="headerlink" href="#tariff-data" title="Link to this heading">#</a></h4>
<p>이 API는 교역 및 비교역 관세품목 데이터를 조회하는 기능을 제공한다. 다양한 옵션을 통해 관세율 정보를 검색할 수 있으며, 나라-기간-교역상대국의 전체 관세율 또는 나라-교역상대국-제품별 관세율을 기간별로 요청할 수 있다.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>파라미터</p></th>
<th class="head text-left"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Data Source</p></td>
<td class="text-left"><p>UNCTAD TRAINS 데이터세트의 값은 “TRN”.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Data Type</p></td>
<td class="text-left"><p>“reported” 또는 “aveestimated”.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Reporter</p></td>
<td class="text-left"><p>“All” 또는 Reporter 코드(앞의 메타데이터 참조) 리스트.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Product</p></td>
<td class="text-left"><p>“All” 또는 Product 코드(앞의 메타데이터 참조) 리스트.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Partner</p></td>
<td class="text-left"><p>“All” 또는 Partner 코드(앞의 메타데이터 참조) 리스트.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Year</p></td>
<td class="text-left"><p>“All” 또는 연도(앞의 메타데이터 참조) 리스트.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Format</p></td>
<td class="text-left"><p>“JSON”. JSON 형식으로 반환.</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/datasource/TRN/&quot;</span>

<span class="c1"># 요청 파라미터 설정(미국-전세계-HS020110제품-2000년)</span>
<span class="n">reporter</span> <span class="o">=</span> <span class="s2">&quot;840&quot;</span>
<span class="n">partner</span> <span class="o">=</span> <span class="s2">&quot;000&quot;</span>
<span class="n">product</span> <span class="o">=</span> <span class="s2">&quot;020110&quot;</span>
<span class="n">year</span> <span class="o">=</span> <span class="s2">&quot;2000&quot;</span>
<span class="n">datatype</span> <span class="o">=</span> <span class="s2">&quot;reported&quot;</span>

<span class="c1"># 요청 파라미터 설정(한국-전세계-전제품-2000년)</span>
<span class="n">reporter</span> <span class="o">=</span> <span class="s2">&quot;410&quot;</span>
<span class="n">partner</span> <span class="o">=</span> <span class="s2">&quot;000&quot;</span>
<span class="n">product</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span>
<span class="n">year</span> <span class="o">=</span> <span class="s2">&quot;2000&quot;</span>
<span class="n">datatype</span> <span class="o">=</span> <span class="s2">&quot;reported&quot;</span>
    
<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;reporter/</span><span class="si">{</span><span class="n">reporter</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;partner/</span><span class="si">{</span><span class="n">partner</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;product/</span><span class="si">{</span><span class="n">product</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;year/</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;datatype/</span><span class="si">{</span><span class="n">datatype</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="p">)</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">series</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//Series&quot;</span><span class="p">):</span>
    <span class="n">series_data</span> <span class="o">=</span> <span class="n">series</span><span class="o">.</span><span class="n">attrib</span>  <span class="c1"># Series 속성 (FREQ, REPORTER, PARTNER, PRODUCTCODE, INDICATOR)</span>

    <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//Obs&quot;</span><span class="p">):</span>
        <span class="n">obs_data</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">attrib</span>  <span class="c1"># TIME_PERIOD, OBS_VALUE, TARIFFTYPE 등의 값</span>

        <span class="n">combined_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;FREQ&quot;</span><span class="p">:</span> <span class="n">series_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;FREQ&quot;</span><span class="p">),</span>
            <span class="s2">&quot;DATATYPE&quot;</span><span class="p">:</span> <span class="n">series_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DATATYPE&quot;</span><span class="p">),</span>
            <span class="s2">&quot;PRODUCTCODE&quot;</span><span class="p">:</span> <span class="n">series_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;PRODUCTCODE&quot;</span><span class="p">),</span>
            <span class="s2">&quot;PARTNER&quot;</span><span class="p">:</span> <span class="n">series_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;PARTNER&quot;</span><span class="p">),</span>
            <span class="s2">&quot;REPORTER&quot;</span><span class="p">:</span> <span class="n">series_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;REPORTER&quot;</span><span class="p">),</span>
            <span class="s2">&quot;Time&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;TIME_PERIOD&quot;</span><span class="p">),</span>
            <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;OBS_VALUE&quot;</span><span class="p">),</span>
            <span class="s2">&quot;TARIFFTYPE&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;TARIFFTYPE&quot;</span><span class="p">),</span>
            <span class="s2">&quot;OBS_VALUE_MEASURE&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;OBS_VALUE_MEASURE&quot;</span><span class="p">),</span>
            <span class="s2">&quot;TOTALNOOFLINES&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;TOTALNOOFLINES&quot;</span><span class="p">),</span>
            <span class="s2">&quot;NBR_PREF_LINES&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;NBR_PREF_LINES&quot;</span><span class="p">),</span>
            <span class="s2">&quot;NBR_MFN_LINES&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;NBR_MFN_LINES&quot;</span><span class="p">),</span>
            <span class="s2">&quot;NBR_NA_LINES&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;NBR_NA_LINES&quot;</span><span class="p">),</span>
            <span class="s2">&quot;SUM_OF_RATES&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SUM_OF_RATES&quot;</span><span class="p">),</span>
            <span class="s2">&quot;MIN_RATE&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;MIN_RATE&quot;</span><span class="p">),</span>
            <span class="s2">&quot;MAX_RATE&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;MAX_RATE&quot;</span><span class="p">),</span>
            <span class="s2">&quot;NOMENCODE&quot;</span><span class="p">:</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;NOMENCODE&quot;</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="n">data_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">combined_data</span><span class="p">)</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_tariff_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_list</span><span class="p">)</span>
<span class="n">df_tariff_data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FREQ</th>
      <th>DATATYPE</th>
      <th>PRODUCTCODE</th>
      <th>PARTNER</th>
      <th>REPORTER</th>
      <th>Time</th>
      <th>Value</th>
      <th>TARIFFTYPE</th>
      <th>OBS_VALUE_MEASURE</th>
      <th>TOTALNOOFLINES</th>
      <th>NBR_PREF_LINES</th>
      <th>NBR_MFN_LINES</th>
      <th>NBR_NA_LINES</th>
      <th>SUM_OF_RATES</th>
      <th>MIN_RATE</th>
      <th>MAX_RATE</th>
      <th>NOMENCODE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>Reported</td>
      <td>010111</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A</td>
      <td>Reported</td>
      <td>010119</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>16</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A</td>
      <td>Reported</td>
      <td>010120</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A</td>
      <td>Reported</td>
      <td>010210</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>93.0999984741211</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>279.299987792969</td>
      <td>93.0999984741211</td>
      <td>93.0999984741211</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A</td>
      <td>Reported</td>
      <td>010290</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>27.8666667938232</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>83.5999984741211</td>
      <td>0</td>
      <td>41.7999992370605</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5108</th>
      <td>A</td>
      <td>Reported</td>
      <td>970200</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5109</th>
      <td>A</td>
      <td>Reported</td>
      <td>970300</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5110</th>
      <td>A</td>
      <td>Reported</td>
      <td>970400</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5111</th>
      <td>A</td>
      <td>Reported</td>
      <td>970500</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5112</th>
      <td>A</td>
      <td>Reported</td>
      <td>970600</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
  </tbody>
</table>
<p>5113 rows × 17 columns</p>
</div></div></div>
</div>
<p><strong>참고: HS 020110 제품명 알아내기</strong></p>
<ul class="simple">
<li><p>Product 메타데이터 API 호출 결과 이용</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/wits/datasource/trn/product/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">product_codes</span> <span class="o">=</span> <span class="s2">&quot;020110&quot;</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">product_codes</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;wits&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wits.worldbank.org&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//wits:product&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="n">product_description</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;wits:productdescription&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;wits:notes&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>

    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;ProductCode&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;productcode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;ProductDescription&quot;</span><span class="p">:</span> <span class="n">product_description</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">product_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;IsGroup&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isgroup&quot;</span><span class="p">),</span>
        <span class="s2">&quot;NomenclatureCode&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nomenclaturecode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;GroupType&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;grouptype&quot;</span><span class="p">),</span>
        <span class="s2">&quot;Notes&quot;</span><span class="p">:</span> <span class="n">notes</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">notes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_product</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_product</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ProductCode</th>
      <th>ProductDescription</th>
      <th>IsGroup</th>
      <th>NomenclatureCode</th>
      <th>GroupType</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>020110</td>
      <td>020110 --  - Carcases and half-carcases</td>
      <td>No</td>
      <td>HS</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="sdmx">
<h3>2.3 SDMX 쿼리 요청<a class="headerlink" href="#sdmx" title="Link to this heading">#</a></h3>
<p>SDMX 쿼리 요청 유형에는 두 가지가 있다. 하나는 메타데이터를 가져오는 요청 유형이고, 다른 하나는 관세 데이터를 가져오는 요청 유형이다. 다음 두 가지 SDMX 응답 형식이 지원된다.</p>
<ul class="simple">
<li><p><strong>SDMX-ML 2.1 generic schema:</strong> 기본적으로 이 방식의 응답이 제공된다.</p></li>
<li><p><strong>SDMX-ML 2.1 structure specific schema:</strong> 구조 특정 스키마는 대량의 데이터를 처리하는 데 더 적합하다. 이 형식으로 응답을 받으려면 SDMX 쿼리 요청의 HTTP 요청 헤더 필드를 “Accept: application/vnd.sdmx.structurespecificdata+xml”로 수정한다.</p></li>
<li><p><strong>JSON 형식:</strong> JSON 형식으로 데이터를 받으려면 SDMX 데이터 쿼리 요청의 HTTP 요청 헤더 필드를 “Accept: application/vnd.sdmx.data+json;version=1.0.0-wd”로 수정한다.</p></li>
</ul>
<section id="data-flow">
<h4>Data Flow<a class="headerlink" href="#data-flow" title="Link to this heading">#</a></h4>
<p>이 API는 UNCTAD TRAINS 데이터세트의 고유 데이터세트 코드를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 요청</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/dataflow/wbg_wits/&quot;</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://www.sdmx.org/resources/sdmxml/schemas/v2_1/structure}&quot;</span>
<span class="n">common_namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://www.sdmx.org/resources/sdmxml/schemas/v2_1/common}&quot;</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">dataflow</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Dataflow&quot;</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;DataFlowID&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
        <span class="s2">&quot;AgencyID&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;agencyID&quot;</span><span class="p">),</span>
        <span class="s2">&quot;Version&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">),</span>
        <span class="s2">&quot;IsFinal&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isFinal&quot;</span><span class="p">),</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">common_namespace</span><span class="si">}</span><span class="s2">Name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">common_namespace</span><span class="si">}</span><span class="s2">Name&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">common_namespace</span><span class="si">}</span><span class="s2">Description&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">common_namespace</span><span class="si">}</span><span class="s2">Description&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_dataflow</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_dataflow</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DataFlowID</th>
      <th>AgencyID</th>
      <th>Version</th>
      <th>IsFinal</th>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>DF_WITS_Tariff_TRAINS</td>
      <td>WBG_WITS</td>
      <td>1.1</td>
      <td>false</td>
      <td>WITS - UNCTAD TRAINS Tariff Data</td>
      <td>Data flow to access WITS - UNCTAD TRAINS Prefe...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>DF_WITS_TradeStats_Development</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>false</td>
      <td>WITS TradeStats Devlopment</td>
      <td>Development indicators such as GDP, GNI per ca...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>DF_WITS_TradeStats_Tariff</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>false</td>
      <td>WITS TradeStats Tariff</td>
      <td>Tariff information like number of trade agreem...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>DF_WITS_TradeStats_Trade</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>false</td>
      <td>WITS TradeStats Trade</td>
      <td>Trade data such as total exports, number or pr...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="code-list">
<h4>Code List<a class="headerlink" href="#code-list" title="Link to this heading">#</a></h4>
<p>이 API는 WITS API의 전체 데이터세트에 대한 코드 리스트를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 요청</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/codelist/all&quot;</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://www.sdmx.org/resources/sdmxml/schemas/v2_1/structure}&quot;</span>
<span class="n">common_namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://www.sdmx.org/resources/sdmxml/schemas/v2_1/common}&quot;</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">codelist</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Codelist&quot;</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">codelist</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Code&quot;</span><span class="p">):</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s2">&quot;CodeListID&quot;</span><span class="p">:</span> <span class="n">codelist</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
            <span class="s2">&quot;AgencyID&quot;</span><span class="p">:</span> <span class="n">codelist</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;agencyID&quot;</span><span class="p">),</span>
            <span class="s2">&quot;Version&quot;</span><span class="p">:</span> <span class="n">codelist</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">),</span>
            <span class="s2">&quot;Code&quot;</span><span class="p">:</span> <span class="n">code</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
            <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">code</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">common_namespace</span><span class="si">}</span><span class="s2">Name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">code</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">common_namespace</span><span class="si">}</span><span class="s2">Name&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_codelist</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_codelist</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CodeListID</th>
      <th>AgencyID</th>
      <th>Version</th>
      <th>Code</th>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CL_UPDATE_STATUS</td>
      <td>MA</td>
      <td>1.0</td>
      <td>Added</td>
      <td>Added</td>
    </tr>
    <tr>
      <th>1</th>
      <td>CL_UPDATE_STATUS</td>
      <td>MA</td>
      <td>1.0</td>
      <td>Updated</td>
      <td>Updated</td>
    </tr>
    <tr>
      <th>2</th>
      <td>CL_UPDATE_STATUS</td>
      <td>MA</td>
      <td>1.0</td>
      <td>Deleted</td>
      <td>Deleted</td>
    </tr>
    <tr>
      <th>3</th>
      <td>SDMX_M_PERIODS</td>
      <td>MA</td>
      <td>1.0</td>
      <td>03</td>
      <td>03</td>
    </tr>
    <tr>
      <th>4</th>
      <td>SDMX_M_PERIODS</td>
      <td>MA</td>
      <td>1.0</td>
      <td>06</td>
      <td>06</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>7212</th>
      <td>CL_TS_PRODUCTCODE_WITS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>Transp</td>
      <td>Machinery and Transport Equipment</td>
    </tr>
    <tr>
      <th>7213</th>
      <td>CL_TS_PRODUCTCODE_WITS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>UNCTAD-SoP1</td>
      <td>Raw materials</td>
    </tr>
    <tr>
      <th>7214</th>
      <td>CL_TS_PRODUCTCODE_WITS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>UNCTAD-SoP2</td>
      <td>Intermediate goods</td>
    </tr>
    <tr>
      <th>7215</th>
      <td>CL_TS_PRODUCTCODE_WITS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>UNCTAD-SoP3</td>
      <td>Consumer goods</td>
    </tr>
    <tr>
      <th>7216</th>
      <td>CL_TS_PRODUCTCODE_WITS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>UNCTAD-SoP4</td>
      <td>Capital goods</td>
    </tr>
  </tbody>
</table>
<p>7217 rows × 5 columns</p>
</div></div></div>
</div>
</section>
<section id="data-structure-definition-dsd">
<h4>Data Structure Definition (DSD)<a class="headerlink" href="#data-structure-definition-dsd" title="Link to this heading">#</a></h4>
<p>이 API는 UNCTAD TRAINS 데이터세트의 데이터 구조 정의(DSD)를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 요청</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/datastructure/WBG_WITS/TARIFF_TRAINS/&quot;</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://www.sdmx.org/resources/sdmxml/schemas/v2_1/structure}&quot;</span>
<span class="n">common_namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://www.sdmx.org/resources/sdmxml/schemas/v2_1/common}&quot;</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">datastructure</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">DataStructure&quot;</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">datastructure</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Dimension&quot;</span><span class="p">):</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s2">&quot;StructureID&quot;</span><span class="p">:</span> <span class="n">datastructure</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
            <span class="s2">&quot;AgencyID&quot;</span><span class="p">:</span> <span class="n">datastructure</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;agencyID&quot;</span><span class="p">),</span>
            <span class="s2">&quot;Version&quot;</span><span class="p">:</span> <span class="n">datastructure</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">),</span>
            <span class="s2">&quot;ComponentID&quot;</span><span class="p">:</span> <span class="n">component</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
            <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">component</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">common_namespace</span><span class="si">}</span><span class="s2">Name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">common_namespace</span><span class="si">}</span><span class="s2">Name&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_dsd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_dsd</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>StructureID</th>
      <th>AgencyID</th>
      <th>Version</th>
      <th>ComponentID</th>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>TARIFF_TRAINS</td>
      <td>WBG_WITS</td>
      <td>1.1</td>
      <td>FREQ</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>TARIFF_TRAINS</td>
      <td>WBG_WITS</td>
      <td>1.1</td>
      <td>REPORTER</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>TARIFF_TRAINS</td>
      <td>WBG_WITS</td>
      <td>1.1</td>
      <td>PARTNER</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>TARIFF_TRAINS</td>
      <td>WBG_WITS</td>
      <td>1.1</td>
      <td>PRODUCTCODE</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>TARIFF_TRAINS</td>
      <td>WBG_WITS</td>
      <td>1.1</td>
      <td>DATATYPE</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id3">
<h4>Tariff Data<a class="headerlink" href="#id3" title="Link to this heading">#</a></h4>
<p>이 API는 교역 및 비교역 관세품목의 관세 데이터를 조회한다. 다양한 옵션을 제공하여 관세율을 검색할 수 있으며, 나라-기간-교역상대국 전체 관세율 또는 나라-교역상대국-제품별 관세율을 특정 기간에 대해 요청할 수 있다.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>파라미터</p></th>
<th class="head text-left"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Freq</p></td>
<td class="text-left"><p>주기의 가능한 값은 “A”이다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>DataType</p></td>
<td class="text-left"><p>“reported” 또는 “aveestimated” 값을 가질 수 있다.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Reporter</p></td>
<td class="text-left"><p>코드 리스트에서 단일 나라 코드 또는 나라 코드 리스트 값을 가질 수 있다. 값이 지정되지 않으면 모든 이용 가능한 reporter로 간주된다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Product</p></td>
<td class="text-left"><p>단일 product 코드 또는 product 코드 리스트 값을 가질 수 있다. 값이 지정되지 않으면 모든 이용 가능한 product 코드로 간주된다.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Partner</p></td>
<td class="text-left"><p>단일 partner 코드 또는 partner 코드 리스트 값을 가질 수 있다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>StartPeriod</p></td>
<td class="text-left"><p>1988년 이후의 값을 가질 수 있다. 값이 지정되지 않으면 이용 가능한 연도의 관세 데이터가 반환된다.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>EndPeriod</p></td>
<td class="text-left"><p>1988년 이후의 값을 가질 수 있다. 값이 지정되지 않으면 시작 기간부터 최신 이용 가능한 연도까지의 관세 데이터가 반환된다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Detail</p></td>
<td class="text-left"><p>선택적 파라미터로, 반환될 정보의 양을 지정한다. 아래 값 중 하나를 가질 수 있다. <br> - Full: 모든 데이터 및 문서, 주석 포함 (기본값) <br> - DataOnly: 속성 및 그룹이 제외된다. <br> - SeriesKeysOnly: 시리즈 키를 구성하는 시리즈 요소 및 차원만 포함된다. <br> - NoData: 속성 및 주석을 포함한 그룹 및 시리즈를 반환하지만 관측값은 제외된다.</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/DF_WITS_Tariff_TRAINS/&quot;</span>

<span class="c1"># 요청 파라미터 설정(미국-전세계-HS020110제품-2000년)</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;freq&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reporter&quot;</span><span class="p">:</span> <span class="s2">&quot;840&quot;</span><span class="p">,</span>
    <span class="s2">&quot;partner&quot;</span><span class="p">:</span> <span class="s2">&quot;000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;020110&quot;</span><span class="p">,</span>
    <span class="s2">&quot;datatype&quot;</span><span class="p">:</span> <span class="s2">&quot;reported&quot;</span><span class="p">,</span>
    <span class="s2">&quot;start_year&quot;</span><span class="p">:</span> <span class="s2">&quot;2000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;end_year&quot;</span><span class="p">:</span> <span class="s2">&quot;2000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;Full&quot;</span>
<span class="p">}</span>

<span class="c1"># 요청 파라미터 설정(한국-전세계-전제품-2000년)</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;freq&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reporter&quot;</span><span class="p">:</span> <span class="s2">&quot;410&quot;</span><span class="p">,</span>
    <span class="s2">&quot;partner&quot;</span><span class="p">:</span> <span class="s2">&quot;000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;datatype&quot;</span><span class="p">:</span> <span class="s2">&quot;reported&quot;</span><span class="p">,</span>
    <span class="s2">&quot;start_year&quot;</span><span class="p">:</span> <span class="s2">&quot;2000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;end_year&quot;</span><span class="p">:</span> <span class="s2">&quot;2000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;Full&quot;</span>
<span class="p">}</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;freq&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;reporter&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;partner&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;product&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;datatype&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;/?startperiod=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;start_year&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;&amp;endperiod=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;end_year&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;&amp;detail=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;detail&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="p">)</span>
    
<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://www.sdmx.org/resources/sdmxml/schemas/v2_1/data/generic}&quot;</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">series</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Series&quot;</span><span class="p">):</span>
    <span class="n">series_key</span> <span class="o">=</span> <span class="p">{</span><span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">dim</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">SeriesKey/</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Value&quot;</span><span class="p">)}</span>
    <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Obs&quot;</span><span class="p">):</span>
        <span class="n">obs_time</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">ObsDimension&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">obs_value</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">ObsValue&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">obs</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Attributes/</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Value&quot;</span><span class="p">)}</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="o">**</span><span class="n">series_key</span><span class="p">,</span> <span class="s2">&quot;Time&quot;</span><span class="p">:</span> <span class="n">obs_time</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="n">obs_value</span><span class="p">,</span> <span class="o">**</span><span class="n">attributes</span><span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_tariff</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_tariff</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FREQ</th>
      <th>DATATYPE</th>
      <th>PRODUCTCODE</th>
      <th>PARTNER</th>
      <th>REPORTER</th>
      <th>Time</th>
      <th>Value</th>
      <th>TARIFFTYPE</th>
      <th>OBS_VALUE_MEASURE</th>
      <th>TOTALNOOFLINES</th>
      <th>NBR_PREF_LINES</th>
      <th>NBR_MFN_LINES</th>
      <th>NBR_NA_LINES</th>
      <th>SUM_OF_RATES</th>
      <th>MIN_RATE</th>
      <th>MAX_RATE</th>
      <th>NOMENCODE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>Reported</td>
      <td>010111</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A</td>
      <td>Reported</td>
      <td>010119</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>16</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A</td>
      <td>Reported</td>
      <td>010120</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A</td>
      <td>Reported</td>
      <td>010210</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>93.0999984741211</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>279.299987792969</td>
      <td>93.0999984741211</td>
      <td>93.0999984741211</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A</td>
      <td>Reported</td>
      <td>010290</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>27.8666667938232</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>83.5999984741211</td>
      <td>0</td>
      <td>41.7999992370605</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5108</th>
      <td>A</td>
      <td>Reported</td>
      <td>970200</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5109</th>
      <td>A</td>
      <td>Reported</td>
      <td>970300</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5110</th>
      <td>A</td>
      <td>Reported</td>
      <td>970400</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5111</th>
      <td>A</td>
      <td>Reported</td>
      <td>970500</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5112</th>
      <td>A</td>
      <td>Reported</td>
      <td>970600</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
  </tbody>
</table>
<p>5113 rows × 17 columns</p>
</div></div></div>
</div>
</section>
</section>
</section>
<section id="trade-stats-api">
<h2>3. TRADE Stats 데이터 API 추출<a class="headerlink" href="#trade-stats-api" title="Link to this heading">#</a></h2>
<section id="id4">
<h3>3.1 내용<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>TRADE Stats는 집계된 무역 및 관세 데이터, 무역 관련 경제개발 지표를 제공한다.</p>
<p><strong>Trade Stats – Trade:</strong> 총 수출액, 수출된 제품 수, 수출 및 수입 상대국, 수출 및 수입된 제품 그룹 등의 무역 데이터를 제공한다. Hirschman-Herfindahl 시장집중도 지수, 시장 침투(penetration) 지수, 세계 성장률 및 나라 성장률과 같은 무역 지표도 포함된다.</p>
<p><strong>Trade Stats – Tariff:</strong> 무역 협정 수, 단순 및 가중 평균 관세, 면세 수입액, 면세 상품 비율과 같은 관세 정보가 제공된다.</p>
<p><strong>Trade Stats – Development:</strong> GDP, 1인당 GNI, 무역수지, GDP 대비 무역 및 서비스 무역 비율과 같은 경제개발 지표가 제공된다.</p>
<p>무역, 관세, 경제개발 지표 데이터는 다음의 값을 지정하여 다운로드할 수 있다.</p>
<ul class="simple">
<li><p><strong>Reporter:</strong> Reporter ISO3 코드.</p></li>
<li><p><strong>Partner:</strong> Partner ISO3 코드. 파트너 차원이 적용되지 않는 지표의 경우 “999”를 사용.</p></li>
<li><p><strong>Product 코드:</strong> Sector, Stage of Processing, SITC Rev2 Standard 그룹에 속하는 제품 그룹 코드를 사용할 수 있다. 제품 차원이 적용되지 않는 지표의 경우 “999999”를 사용.</p></li>
<li><p><strong>연도:</strong> 연도. 시작 연도는 1988년.</p></li>
<li><p><strong>지표:</strong> 무역, 관세, 경제개발 지표 코드.</p></li>
</ul>
<p><strong>데이터 요청 제한</strong></p>
<p>서버 과부하를 피하기 위한 제한 사항:</p>
<ul class="simple">
<li><p>“All” 값은 최대 2개의 차원만 허용된다.</p></li>
<li><p>모든 Reporter와 모든 Partner를 포함한 데이터 요청은 허용되지 않는다.</p></li>
<li><p>두 개의 차원이 “All” 값을 가질 때 나머지 차원은 특정 값을 가져야 한다.</p></li>
<li><p>단일의 Reporter, Partner, 지표, 제품에 대한 무역 통계 데이터는 여러 연도에 대해 요청할 수 있다.</p></li>
</ul>
<p><strong>기본 호출 구조</strong></p>
<p>WITS API에 액세스하는 기본 URL은 <a class="reference external" href="https://wits.worldbank.org/API/V1">https://wits.worldbank.org/API/V1</a>.</p>
<p><strong>URL 기반 구조 쿼리</strong></p>
<p>메타데이터 및 data availability에 액세스하려면 기본 URL은 <a class="reference external" href="https://wits.worldbank.org/API/V1/WITS">https://wits.worldbank.org/API/V1/WITS</a>. <strong>Data availability API</strong>는 Trade Stats –
Trade/Tariff/Development 데이터세트에서 이용 가능한 나라 기간을 반환한다. <strong>Indicator API</strong>는 지표에 대해 파트너, 제품 차원이 필요한지 여부를 반환한다. Reporter-Partner API는 Reporter와 Partner의 이름을 제공한다. Nomenclature API와 Product API는 각각 제품 분류법과 제품 설명을 제공한다.</p>
<p>데이터 요청의 기본 URL은 <a class="reference external" href="https://wits.worldbank.org/API/V1/SDMX/V21/">https://wits.worldbank.org/API/V1/SDMX/V21/</a>. 파라미터에 대해 둘 이상의 값을 액세스하려면 구분자 <code class="docutils literal notranslate"><span class="pre">;</span></code>를 사용한다. JSON 형식으로 데이터를 액세스하려면 데이터 요청 쿼리에 <code class="docutils literal notranslate"><span class="pre">?format=JSON</span></code>을 넣는다.</p>
<p><strong>SDMX 쿼리</strong></p>
<p>Data flow, Codes list, Data Structure Definition(DSD)에 액세스하는 기본 URL: <a class="reference external" href="https://wits.worldbank.org/API/V1/SDMX/V21/rest/">https://wits.worldbank.org/API/V1/SDMX/V21/rest/</a>.</p>
<p>Trade Stats-Trade 데이터세트: <a class="reference external" href="https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_trade">https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_trade</a>.</p>
<p>Trade Stats-Tariff 데이터세트: <a class="reference external" href="https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_tariff">https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_tariff</a>.</p>
<p>Developmen 데이터세트: <a class="reference external" href="https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_development">https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/df_wits_tradestats_development</a>.</p>
<p>파라미터에 대해 둘 이상의 값에 액세스하려면 구분자 <code class="docutils literal notranslate"><span class="pre">+</span></code>를 사용한다.</p>
</section>
<section id="id5">
<h3>3.2 URL 기반 구조 요청<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<section id="id6">
<h4>Reporter and Partner<a class="headerlink" href="#id6" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 Trade Stats 무역, 관세, 경제개발 데이터세트에서 이용 가능한 나라에 대한 보고국 및 교역상대국의 이름, 영어-숫자 코드, ISO3 코드, 기타 메타데이터를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/wits/datasource/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="s2">&quot;tradestats-trade&quot;</span> <span class="c1">#&quot;tradestats-tariff&quot;, &quot;tradestats-development&quot;로 변경 가능</span>
<span class="n">country_codes</span> <span class="o">=</span> <span class="s2">&quot;ALL&quot;</span>  <span class="c1"># 특정 나라 코드 리스트로 변경 가능 (예: &quot;usa;jpn;deu&quot;)</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">/country/</span><span class="si">{</span><span class="n">country_codes</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wits.worldbank.org&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">country</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:country&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;CountryCode&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;countrycode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;ISO3Code&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:iso3Code&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:name&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
        <span class="s2">&quot;IsReporter&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isreporter&quot;</span><span class="p">),</span>
        <span class="s2">&quot;IsPartner&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ispartner&quot;</span><span class="p">),</span>
        <span class="s2">&quot;IsGroup&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isgroup&quot;</span><span class="p">),</span>
        <span class="s2">&quot;GroupType&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;grouptype&quot;</span><span class="p">),</span>
        <span class="s2">&quot;Notes&quot;</span><span class="p">:</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:notes&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:notes&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_countries</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_countries</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CountryCode</th>
      <th>ISO3Code</th>
      <th>Name</th>
      <th>IsReporter</th>
      <th>IsPartner</th>
      <th>IsGroup</th>
      <th>GroupType</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>004</td>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>1</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>008</td>
      <td>ALB</td>
      <td>Albania</td>
      <td>1</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>012</td>
      <td>DZA</td>
      <td>Algeria</td>
      <td>1</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>016</td>
      <td>ASM</td>
      <td>American Samoa</td>
      <td>0</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>020</td>
      <td>AND</td>
      <td>Andorra</td>
      <td>1</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>261</th>
      <td>887</td>
      <td>YEM</td>
      <td>Yemen</td>
      <td>1</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>262</th>
      <td>720</td>
      <td>YDR</td>
      <td>Yemen Democratic</td>
      <td>0</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>263</th>
      <td>890</td>
      <td>YUG</td>
      <td>Yugoslavia,FR(Serbia/Montenegr</td>
      <td>0</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>264</th>
      <td>894</td>
      <td>ZMB</td>
      <td>Zambia</td>
      <td>1</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>265</th>
      <td>716</td>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>1</td>
      <td>1</td>
      <td>No</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
<p>266 rows × 8 columns</p>
</div></div></div>
</div>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>코드</p></th>
<th class="head text-left"><p>내용</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>CountryCode</p></td>
<td class="text-left"><p>나라 코드</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>ISO3Code</p></td>
<td class="text-left"><p>ISO3 코드</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Name</p></td>
<td class="text-left"><p>이름</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>IsReporter</p></td>
<td class="text-left"><p>나라 코드가 Reporter로 사용 가능한지 여부</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>IsPartner</p></td>
<td class="text-left"><p>나라 코드가 Partner로 사용 가능한지 여부</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>IsGroup</p></td>
<td class="text-left"><p>그룹 여부</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>GroupType</p></td>
<td class="text-left"><p>그룹 유형</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Notes</p></td>
<td class="text-left"><p>비고</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id7">
<h4>Nomenclature<a class="headerlink" href="#id7" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 Trade-stats–Trade 및 Trade-stats–Tariff에서 이용 가능한 분류법(nomenclature)에 대해 코드, 설명, 이름의 정보를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/wits/datasource/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="s2">&quot;tradestats-trade&quot;</span>  <span class="c1"># &quot;tradestats-tariff&quot;로 변경 가능</span>
<span class="n">nomenclature_codes</span> <span class="o">=</span> <span class="s2">&quot;ALL&quot;</span>  <span class="c1"># 특정 코드 리스트로 변경 가능 (예: &quot;h0;s2&quot;)</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">/nomenclature/</span><span class="si">{</span><span class="n">nomenclature_codes</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wits.worldbank.org&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">nomenclature</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:nomenclature&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;NomenCode&quot;</span><span class="p">:</span> <span class="n">nomenclature</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nomenclaturecode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;NomenDescription&quot;</span><span class="p">:</span> <span class="n">nomenclature</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">),</span>
        <span class="s2">&quot;NomenName&quot;</span><span class="p">:</span> <span class="n">nomenclature</span><span class="o">.</span><span class="n">text</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_nomenclature</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_nomenclature</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>NomenCode</th>
      <th>NomenDescription</th>
      <th>NomenName</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>H0</td>
      <td>Harmonized System 1988/92</td>
      <td>HS 1988/92</td>
    </tr>
    <tr>
      <th>1</th>
      <td>S2</td>
      <td>Standard International Trade Classification, R...</td>
      <td>SITC Revision 2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id8">
<h4>Product<a class="headerlink" href="#id8" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 <strong>Trade-stats–Trade</strong> 및 <strong>Trade-stats–Tariff</strong> 데이터세트에서 제공되는 Product에 대한 정보를 조회한다. 보다 높은 수준의 집계 형태로 제공된다. 예를 들어, Harmonized System(HS) 01부터 05까지를 합쳐서 동물(Animal)로 집계된다.</p>
<p><strong>참고:</strong> Product는 HS 코드 및 SITC 코드 각각에 대해 여러 항목을 그룹화한 것이다.</p>
<p><strong>내용:</strong> 응답에는 다음과 같은 정보가 포함된다.</p>
<ul class="simple">
<li><p>Product 코드</p></li>
<li><p>Product 설명</p></li>
<li><p>Product 코드가 그룹인지 여부(예/아니오)</p></li>
<li><p>Product 그룹 유형</p></li>
<li><p>Notes</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/wits/datasource/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="s2">&quot;tradestats-trade&quot;</span>  <span class="c1"># &quot;tradestats-tariff&quot;로 변경 가능</span>
<span class="n">product_codes</span> <span class="o">=</span> <span class="s2">&quot;ALL&quot;</span>  <span class="c1"># 특정 코드 리스트로 변경 가능 (예: &quot;4449_Wood;fuels&quot;)</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">/product/</span><span class="si">{</span><span class="n">product_codes</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wits.worldbank.org&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:product&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;ProductCode&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;productcode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;ProductDescription&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:productdescription&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
        <span class="s2">&quot;IsGroup&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isgroup&quot;</span><span class="p">),</span>
        <span class="s2">&quot;GroupType&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;grouptype&quot;</span><span class="p">),</span>
        <span class="s2">&quot;Notes&quot;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:notes&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">product</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:notes&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_product</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_product</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ProductCode</th>
      <th>ProductDescription</th>
      <th>IsGroup</th>
      <th>GroupType</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>999999</td>
      <td>Not Applicable</td>
      <td>N/A</td>
      <td>N/A</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>01-05_Animal</td>
      <td>Animal</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>06-15_Vegetable</td>
      <td>Vegetable</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>16-24_FoodProd</td>
      <td>Food Products</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>25-26_Minerals</td>
      <td>Minerals</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>5</th>
      <td>27-27_Fuels</td>
      <td>Fuels</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>6</th>
      <td>28-38_Chemicals</td>
      <td>Chemicals</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>7</th>
      <td>39-40_PlastiRub</td>
      <td>Plastic or Rubber</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>8</th>
      <td>41-43_HidesSkin</td>
      <td>Hides and Skins</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>9</th>
      <td>44-49_Wood</td>
      <td>Wood</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>10</th>
      <td>50-63_TextCloth</td>
      <td>Textiles and Clothing</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>11</th>
      <td>64-67_Footwear</td>
      <td>Footwear</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>12</th>
      <td>68-71_StoneGlas</td>
      <td>Stone and Glass</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>13</th>
      <td>72-83_Metals</td>
      <td>Metals</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>14</th>
      <td>84-85_MachElec</td>
      <td>Mach and Elec</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>15</th>
      <td>86-89_Transport</td>
      <td>Transportation</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>16</th>
      <td>90-99_Miscellan</td>
      <td>Miscellaneous</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Total</td>
      <td>All Products</td>
      <td>Yes</td>
      <td>Sector</td>
      <td>None</td>
    </tr>
    <tr>
      <th>18</th>
      <td>AgrRaw</td>
      <td>Agricultural Raw Materials</td>
      <td>Yes</td>
      <td>SITC-Rev2-Groups</td>
      <td>None</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Chemical</td>
      <td>Chemical</td>
      <td>Yes</td>
      <td>SITC-Rev2-Groups</td>
      <td>None</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Food</td>
      <td>Food</td>
      <td>Yes</td>
      <td>SITC-Rev2-Groups</td>
      <td>None</td>
    </tr>
    <tr>
      <th>21</th>
      <td>Fuels</td>
      <td>Fuel</td>
      <td>Yes</td>
      <td>SITC-Rev2-Groups</td>
      <td>None</td>
    </tr>
    <tr>
      <th>22</th>
      <td>manuf</td>
      <td>Manufactures</td>
      <td>Yes</td>
      <td>SITC-Rev2-Groups</td>
      <td>None</td>
    </tr>
    <tr>
      <th>23</th>
      <td>OresMtls</td>
      <td>Ores and Metals</td>
      <td>Yes</td>
      <td>SITC-Rev2-Groups</td>
      <td>None</td>
    </tr>
    <tr>
      <th>24</th>
      <td>Textiles</td>
      <td>Textiles</td>
      <td>Yes</td>
      <td>SITC-Rev2-Groups</td>
      <td>None</td>
    </tr>
    <tr>
      <th>25</th>
      <td>Transp</td>
      <td>Machinery and Transport Equipment</td>
      <td>Yes</td>
      <td>SITC-Rev2-Groups</td>
      <td>None</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Total</td>
      <td>All Products</td>
      <td>Yes</td>
      <td>Stages-Of-Processing</td>
      <td>None</td>
    </tr>
    <tr>
      <th>27</th>
      <td>UNCTAD-SoP1</td>
      <td>Raw materials</td>
      <td>Yes</td>
      <td>Stages-Of-Processing</td>
      <td>None</td>
    </tr>
    <tr>
      <th>28</th>
      <td>UNCTAD-SoP2</td>
      <td>Intermediate goods</td>
      <td>Yes</td>
      <td>Stages-Of-Processing</td>
      <td>None</td>
    </tr>
    <tr>
      <th>29</th>
      <td>UNCTAD-SoP3</td>
      <td>Consumer goods</td>
      <td>Yes</td>
      <td>Stages-Of-Processing</td>
      <td>None</td>
    </tr>
    <tr>
      <th>30</th>
      <td>UNCTAD-SoP4</td>
      <td>Capital goods</td>
      <td>Yes</td>
      <td>Stages-Of-Processing</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="indicator">
<h4>Indicator<a class="headerlink" href="#indicator" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 Trade Stats-Trade/Tariff/Development 데이터세트에서 이용 가능한 지표에 대한 코드, 이름, 출처, 주제, 주기 및 기타 메타데이터를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/wits/datasource/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="s2">&quot;tradestats-trade&quot;</span> <span class="c1">#&quot;tradestats-tariff&quot;, &quot;tradestats-development&quot;로 변경 가능</span>
<span class="n">indicator_codes</span> <span class="o">=</span> <span class="s2">&quot;ALL&quot;</span>  <span class="c1"># 특정 코드 리스트로 변경 가능 (예: &quot;HH-MKT-CNCNTRTN-NDX;NMBR-XPRT-HS6-PRDCT&quot;)</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">/indicator/</span><span class="si">{</span><span class="n">indicator_codes</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wits.worldbank.org&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:indicator&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;IndicatorCode&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;indicatorcode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;IsPartnerRequired&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ispartnerrequired&quot;</span><span class="p">),</span>
        <span class="s2">&quot;SDMXPartnerValue&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sdmxpartnervalue&quot;</span><span class="p">),</span>
        <span class="s2">&quot;IsProductRequired&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isproductrequired&quot;</span><span class="p">),</span>
        <span class="s2">&quot;SDMXProductValue&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sdmxproductvalue&quot;</span><span class="p">),</span>
        <span class="s2">&quot;IndicatorName&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:indicatorname&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:indicatorname&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;IndicatorDefinition&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:indicatordefinition&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:indicatordefinition&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Source&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:source&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:source&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Topic&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:topic&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:topic&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Periodicity&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:periodicity&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:periodicity&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Valuation&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:valuation&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:valuation&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Currency&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:currency&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:currency&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Notes&quot;</span><span class="p">:</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:notes&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">indicator</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:notes&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_indicator</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_indicator</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>IndicatorCode</th>
      <th>IsPartnerRequired</th>
      <th>SDMXPartnerValue</th>
      <th>IsProductRequired</th>
      <th>SDMXProductValue</th>
      <th>IndicatorName</th>
      <th>IndicatorDefinition</th>
      <th>Source</th>
      <th>Topic</th>
      <th>Periodicity</th>
      <th>Valuation</th>
      <th>Currency</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CNTRY-GRWTH</td>
      <td>None</td>
      <td>None</td>
      <td>yes</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>Export - FOB; Import - CIF</td>
      <td>None</td>
      <td>1) Mirror Exports is considered 2)Growth for a...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>HH-MKT-CNCNTRTN-NDX</td>
      <td>None</td>
      <td>None</td>
      <td>no</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>Export - FOB; Import - CIF</td>
      <td>None</td>
      <td>1) Mirror Exports is considered for export dat...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NDX-XPRT-MKT-PNRTTN</td>
      <td>None</td>
      <td>None</td>
      <td>no</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>Export - FOB; Import - CIF</td>
      <td>None</td>
      <td>1) Mirror Exports is considered for export dat...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NMBR-MPRT-HS6-PRDCT</td>
      <td>None</td>
      <td>None</td>
      <td>no</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>1)  All traded products at HS 6 digits are con...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NMBR-XPRT-HS6-PRDCT</td>
      <td>None</td>
      <td>None</td>
      <td>no</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>1)  All traded products at HS 6 digits are con...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>NMBR-XPRT-PRTNR</td>
      <td>None</td>
      <td>None</td>
      <td>no</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>1) Product 'Total' is used for this computation.</td>
    </tr>
    <tr>
      <th>6</th>
      <td>NMBR-MPRT-PRTNR</td>
      <td>None</td>
      <td>None</td>
      <td>no</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>1) Product 'Total' is used for this computation.</td>
    </tr>
    <tr>
      <th>7</th>
      <td>NMBR-PRDCT-XPRTD</td>
      <td>None</td>
      <td>None</td>
      <td>no</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>1)  All traded products at HS 6 digits are con...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>NMBR-PRDCT-MPRTD</td>
      <td>None</td>
      <td>None</td>
      <td>no</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>1)  All traded products at HS 6 digits are con...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>XPRT-PRTNR-SHR</td>
      <td>None</td>
      <td>None</td>
      <td>no</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>10</th>
      <td>MPRT-PRTNR-SHR</td>
      <td>None</td>
      <td>None</td>
      <td>no</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>11</th>
      <td>MPRT-PRDCT-SHR</td>
      <td>None</td>
      <td>None</td>
      <td>yes</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>12</th>
      <td>XPRT-PRDCT-SHR</td>
      <td>None</td>
      <td>None</td>
      <td>yes</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>13</th>
      <td>RCA</td>
      <td>None</td>
      <td>None</td>
      <td>yes</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>Export - FOB; Import - CIF</td>
      <td>None</td>
      <td>Mirror Exports is considered.  The RCA index o...</td>
    </tr>
    <tr>
      <th>14</th>
      <td>MPRT-SHR-TTL-PRDCT</td>
      <td>None</td>
      <td>None</td>
      <td>yes</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>1)  All traded products at HS 6 digits are con...</td>
    </tr>
    <tr>
      <th>15</th>
      <td>XPRT-SHR-TTL-PRDCT</td>
      <td>None</td>
      <td>None</td>
      <td>yes</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>None</td>
      <td>None</td>
      <td>1)  All traded products at HS 6 digits are con...</td>
    </tr>
    <tr>
      <th>16</th>
      <td>TRD-CMPLMNTRTY-NDX</td>
      <td>None</td>
      <td>None</td>
      <td>no</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>Export - FOB; Import - CIF</td>
      <td>None</td>
      <td>1) Mirror Exports is considered for export dat...</td>
    </tr>
    <tr>
      <th>17</th>
      <td>MPRT-TRD-VL</td>
      <td>None</td>
      <td>None</td>
      <td>yes</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>Export - FOB; Import - CIF</td>
      <td>US Dollar - Current value</td>
      <td>None</td>
    </tr>
    <tr>
      <th>18</th>
      <td>XPRT-TRD-VL</td>
      <td>None</td>
      <td>None</td>
      <td>yes</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>Export - FOB; Import - CIF</td>
      <td>US Dollar - Current value</td>
      <td>None</td>
    </tr>
    <tr>
      <th>19</th>
      <td>WRLD-GRWTH</td>
      <td>None</td>
      <td>None</td>
      <td>yes</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>WITS - UNSD Comtrade</td>
      <td>Trade</td>
      <td>Annual</td>
      <td>Export - FOB; Import - CIF</td>
      <td>None</td>
      <td>1) Mirror Exports is considered 2)Growth for a...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>항목</p></th>
<th class="head text-left"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Indicator Code</p></td>
<td class="text-left"><p>지표 코드</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Is Partner Required</p></td>
<td class="text-left"><p>Partner 필요 여부</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>SDMX Partner Value</p></td>
<td class="text-left"><p>Partner가 필요하지 않은 경우 SDMX 데이터 요청을 위한 값</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Is Product Required</p></td>
<td class="text-left"><p>Product 필요 여부</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>SDMX Product Value</p></td>
<td class="text-left"><p>Product가 필요하지 않은 경우 SDMX 데이터 요청을 위한 값</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Indicator Name</p></td>
<td class="text-left"><p>Indicator 이름</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Indicator Definition</p></td>
<td class="text-left"><p>Indicator 정의</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Source</p></td>
<td class="text-left"><p>출처</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Topic</p></td>
<td class="text-left"><p>주제</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Periodicity</p></td>
<td class="text-left"><p>주기</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Valuation</p></td>
<td class="text-left"><p>측정 방식</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Currency</p></td>
<td class="text-left"><p>통화 단위</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Notes</p></td>
<td class="text-left"><p>비고</p></td>
</tr>
</tbody>
</table>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>지표 코드</p></th>
<th class="head text-center"><p>Partner 필수 여부</p></th>
<th class="head text-center"><p>Product 필수 여부</p></th>
<th class="head text-center"><p>출처</p></th>
<th class="head text-center"><p>주제</p></th>
<th class="head text-center"><p>주기</p></th>
<th class="head text-center"><p>평가 방식</p></th>
<th class="head text-center"><p>통화</p></th>
<th class="head text-left"><p>비고</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>CNTRY-GRWTH</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>예</p></td>
<td class="text-center"><p>WITS - UNSD Comtrade</p></td>
<td class="text-center"><p>무역</p></td>
<td class="text-center"><p>연간</p></td>
<td class="text-center"><p>FOB 기준 수출; CIF 기준 수입</p></td>
<td class="text-center"><p>없음</p></td>
<td class="text-left"><p>1) Mirror Exports is considered for export data 2) 특정 연도 성장은 이전 연도 대비로 계산</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>HH-MKT-CNCNTRTN-NDX</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>WITS - UNSD Comtrade</p></td>
<td class="text-center"><p>무역</p></td>
<td class="text-center"><p>연간</p></td>
<td class="text-center"><p>FOB 기준 수출; CIF 기준 수입</p></td>
<td class="text-center"><p>없음</p></td>
<td class="text-left"><p>1) Mirror Exports is considered for export data 2) 모든 국가를 파트너로 포함 (세계 및 EU 제외) 3) ‘Total’ 제품 사용</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>NDX-XPRT-MKT-PNRTTN</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>WITS - UNSD Comtrade</p></td>
<td class="text-center"><p>무역</p></td>
<td class="text-center"><p>연간</p></td>
<td class="text-center"><p>FOB 기준 수출; CIF 기준 수입</p></td>
<td class="text-center"><p>없음</p></td>
<td class="text-left"><p>1) Mirror Exports is considered for export data 2) HS 6자리 제품 기준으로 계산 후 집계</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>NMBR-MPRT-HS6-PRDCT</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>WITS - UNSD Comtrade</p></td>
<td class="text-center"><p>무역</p></td>
<td class="text-center"><p>연간</p></td>
<td class="text-center"><p>없음</p></td>
<td class="text-center"><p>없음</p></td>
<td class="text-left"><p>HS 6자리의 모든 교역 제품을 고려하여 계산</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>NMBR-XPRT-HS6-PRDCT</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>WITS - UNSD Comtrade</p></td>
<td class="text-center"><p>무역</p></td>
<td class="text-center"><p>연간</p></td>
<td class="text-center"><p>없음</p></td>
<td class="text-center"><p>없음</p></td>
<td class="text-left"><p>HS 6자리의 모든 교역 제품을 고려하여 계산</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>RCA</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>예</p></td>
<td class="text-center"><p>WITS - UNSD Comtrade</p></td>
<td class="text-center"><p>무역</p></td>
<td class="text-center"><p>연간</p></td>
<td class="text-center"><p>FOB 기준 수출; CIF 기준 수입</p></td>
<td class="text-center"><p>없음</p></td>
<td class="text-left"><p>국가의 제품 수출 점유율과 세계 수출 점유율을 비교하여 비교우위를 계산</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>MPRT-TRD-VL</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>예</p></td>
<td class="text-center"><p>WITS - UNSD Comtrade</p></td>
<td class="text-center"><p>무역</p></td>
<td class="text-center"><p>연간</p></td>
<td class="text-center"><p>FOB 기준 수출; CIF 기준 수입</p></td>
<td class="text-center"><p>US Dollar - 현재 가치</p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>XPRT-TRD-VL</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>예</p></td>
<td class="text-center"><p>WITS - UNSD Comtrade</p></td>
<td class="text-center"><p>무역</p></td>
<td class="text-center"><p>연간</p></td>
<td class="text-center"><p>FOB 기준 수출; CIF 기준 수입</p></td>
<td class="text-center"><p>US Dollar - 현재 가치</p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>TRD-CMPLMNTRTY-NDX</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>WITS - UNSD Comtrade</p></td>
<td class="text-center"><p>무역</p></td>
<td class="text-center"><p>연간</p></td>
<td class="text-center"><p>FOB 기준 수출; CIF 기준 수입</p></td>
<td class="text-center"><p>없음</p></td>
<td class="text-left"><p>두 국가 간 상품 수출입 상호 보완성을 측정, 지수가 0이면 반대, 100이면 완전히 일치</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>WRLD-GRWTH</p></td>
<td class="text-center"><p>아니오</p></td>
<td class="text-center"><p>예</p></td>
<td class="text-center"><p>WITS - UNSD Comtrade</p></td>
<td class="text-center"><p>무역</p></td>
<td class="text-center"><p>연간</p></td>
<td class="text-center"><p>FOB 기준 수출; CIF 기준 수입</p></td>
<td class="text-center"><p>없음</p></td>
<td class="text-left"><p>1) Mirror Exports is considered for export data 2) 특정 연도 성장은 이전 연도 대비로 계산</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id9">
<h4>Data Availability<a class="headerlink" href="#id9" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 Trade Stats-Trade/Tariff/Development 데이터세트에서 데이터 가용성을 조회하는 데 사용된다. 이 API를 통해 전체 Trade/Tariff/Development 데이터세트의 가용성뿐만 아니라 특정 보고국, 특정 지표, 특정 연도의 데이터 가용성을 확인할 수 있다.</p>
<p>응답 정보: 나라 정보(나라명, 코드, ISO3 코드, 그룹 여부, 그룹 유형), 연도, 보고된 분류법, 종량세 표현에 대한 추정 관세율 이용 가능 여부(Trade Stats–Tariff 데이터세트에만 해당), 마지막 업데이트 날짜.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/wits/datasource/&quot;</span>

<span class="c1"># 요청할 데이터세트 선택 (tradestats-trade, tradestats-tariff, tradestats-development)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="s2">&quot;tradestats-trade&quot;</span>

<span class="c1"># 요청 파라미터 설정 (모든 나라, 모든 연도, 모든 지표)</span>
<span class="n">country_codes</span> <span class="o">=</span> <span class="s2">&quot;ALL&quot;</span>  <span class="c1"># 특정 나라 코드 리스트로 변경 가능 (예: &quot;USA;CHN&quot;)</span>
<span class="n">years</span> <span class="o">=</span> <span class="s2">&quot;ALL&quot;</span>  <span class="c1"># 특정 연도 리스트로 변경 가능 (예: &quot;2000;2005&quot;)</span>
<span class="n">indicators</span> <span class="o">=</span> <span class="s2">&quot;ALL&quot;</span>  <span class="c1"># 특정 지표 리스트로 변경 가능 (예: &quot;GDP;IMPORTS&quot;)</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">/dataavailability/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;country/</span><span class="si">{</span><span class="n">country_codes</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;year/</span><span class="si">{</span><span class="n">years</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;indicator/</span><span class="si">{</span><span class="n">indicators</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="p">)</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wits.worldbank.org&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:reporter&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;CountryCode&quot;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;countrycode&quot;</span><span class="p">),</span>
        <span class="s2">&quot;ISO3&quot;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iso3Code&quot;</span><span class="p">),</span>
        <span class="s2">&quot;CountryName&quot;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:name&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:name&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Year&quot;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:year&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:year&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;ReportedNomenclature&quot;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:reporternernomenclature&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:reporternernomenclature&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;EstimatedTariffRateAvailable&quot;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:isspecificdutyexpressionestimatedavailable&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:isspecificdutyexpressionestimatedavailable&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Notes&quot;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:notes&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:notes&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;LastUpdated&quot;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:lastupdateddate&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:lastupdateddate&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_data_availability</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_data_availability</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CountryCode</th>
      <th>ISO3</th>
      <th>CountryName</th>
      <th>Year</th>
      <th>ReportedNomenclature</th>
      <th>EstimatedTariffRateAvailable</th>
      <th>Notes</th>
      <th>LastUpdated</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>533</td>
      <td>ABW</td>
      <td>Aruba</td>
      <td>2000</td>
      <td>Harmonized System 1988/92;SITC Revision 2</td>
      <td>N/A</td>
      <td>None</td>
      <td>Aug-24-2015</td>
    </tr>
    <tr>
      <th>1</th>
      <td>533</td>
      <td>ABW</td>
      <td>Aruba</td>
      <td>2001</td>
      <td>Harmonized System 1988/92;SITC Revision 2</td>
      <td>N/A</td>
      <td>None</td>
      <td>Aug-24-2015</td>
    </tr>
    <tr>
      <th>2</th>
      <td>533</td>
      <td>ABW</td>
      <td>Aruba</td>
      <td>2002</td>
      <td>Harmonized System 1988/92;SITC Revision 2</td>
      <td>N/A</td>
      <td>None</td>
      <td>Aug-24-2015</td>
    </tr>
    <tr>
      <th>3</th>
      <td>533</td>
      <td>ABW</td>
      <td>Aruba</td>
      <td>2003</td>
      <td>Harmonized System 1988/92;SITC Revision 2</td>
      <td>N/A</td>
      <td>None</td>
      <td>Aug-24-2015</td>
    </tr>
    <tr>
      <th>4</th>
      <td>533</td>
      <td>ABW</td>
      <td>Aruba</td>
      <td>2004</td>
      <td>Harmonized System 1988/92;SITC Revision 2</td>
      <td>N/A</td>
      <td>None</td>
      <td>Aug-24-2015</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5201</th>
      <td>716</td>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2018</td>
      <td>Harmonized System 1988/92;SITC Revision 2</td>
      <td>N/A</td>
      <td>None</td>
      <td>Aug-24-2015</td>
    </tr>
    <tr>
      <th>5202</th>
      <td>716</td>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2019</td>
      <td>Harmonized System 1988/92;SITC Revision 2</td>
      <td>N/A</td>
      <td>None</td>
      <td>Aug-24-2015</td>
    </tr>
    <tr>
      <th>5203</th>
      <td>716</td>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2020</td>
      <td>Harmonized System 1988/92;SITC Revision 2</td>
      <td>N/A</td>
      <td>None</td>
      <td>Aug-24-2015</td>
    </tr>
    <tr>
      <th>5204</th>
      <td>716</td>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2021</td>
      <td>Harmonized System 1988/92;SITC Revision 2</td>
      <td>N/A</td>
      <td>None</td>
      <td>Aug-24-2015</td>
    </tr>
    <tr>
      <th>5205</th>
      <td>716</td>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>2022</td>
      <td>Harmonized System 1988/92;SITC Revision 2</td>
      <td>N/A</td>
      <td>None</td>
      <td>Aug-24-2015</td>
    </tr>
  </tbody>
</table>
<p>5206 rows × 8 columns</p>
</div></div></div>
</div>
</section>
<section id="trade-stats">
<h4>Trade Stats 데이터<a class="headerlink" href="#trade-stats" title="Link to this heading">#</a></h4>
<p>이 API는 데이터를 검색할 수 있는 다양한 옵션을 제공한다. 여러 기간에 걸친 국가-교역상대국-제품-지표 데이터를 요청할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/datasource/&quot;</span>

<span class="c1"># 요청할 데이터세트 선택 (tradestats-trade, tradestats-tariff, tradestats-development)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="s2">&quot;tradestats-trade&quot;</span>

<span class="c1"># 요청 파라미터 설정 </span>
<span class="n">reporter</span> <span class="o">=</span> <span class="s2">&quot;USA&quot;</span>  <span class="c1"># 특정 나라 ISO3 코드 또는 &quot;ALL&quot;</span>
<span class="n">year</span> <span class="o">=</span> <span class="s2">&quot;2000&quot;</span>  <span class="c1"># 특정 연도 또는 &quot;ALL&quot;</span>
<span class="n">partner</span> <span class="o">=</span> <span class="s2">&quot;ALL&quot;</span>  <span class="c1"># 특정 파트너 또는 &quot;ALL&quot;</span>
<span class="n">product</span> <span class="o">=</span> <span class="s2">&quot;fuels&quot;</span>  <span class="c1"># 특정 제품 코드 또는 &quot;ALL&quot;</span>
<span class="n">indicator</span> <span class="o">=</span> <span class="s2">&quot;XPRT-TRD-VL&quot;</span>  <span class="c1"># 특정 지표 코드 또는 &quot;ALL&quot;</span>

<span class="c1"># 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;reporter/</span><span class="si">{</span><span class="n">reporter</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;year/</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;partner/</span><span class="si">{</span><span class="n">partner</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;product/</span><span class="si">{</span><span class="n">product</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;indicator/</span><span class="si">{</span><span class="n">indicator</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="p">)</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.sdmx.org/resources/sdmxml/schemas/v2_1/data/structurespecific&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">series</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//Series&quot;</span><span class="p">):</span>
    <span class="n">series_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;FREQ&quot;</span><span class="p">:</span> <span class="n">series</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;FREQ&quot;</span><span class="p">),</span>
        <span class="s2">&quot;REPORTER&quot;</span><span class="p">:</span> <span class="n">series</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;REPORTER&quot;</span><span class="p">),</span>
        <span class="s2">&quot;PARTNER&quot;</span><span class="p">:</span> <span class="n">series</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;PARTNER&quot;</span><span class="p">),</span>
        <span class="s2">&quot;PRODUCTCODE&quot;</span><span class="p">:</span> <span class="n">series</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;PRODUCTCODE&quot;</span><span class="p">),</span>
        <span class="s2">&quot;INDICATOR&quot;</span><span class="p">:</span> <span class="n">series</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;INDICATOR&quot;</span><span class="p">),</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;Obs&quot;</span><span class="p">):</span>
        <span class="n">obs_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;TIME_PERIOD&quot;</span><span class="p">:</span> <span class="n">obs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;TIME_PERIOD&quot;</span><span class="p">),</span>
            <span class="s2">&quot;OBS_VALUE&quot;</span><span class="p">:</span> <span class="n">obs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;OBS_VALUE&quot;</span><span class="p">),</span>
            <span class="s2">&quot;DATASOURCE&quot;</span><span class="p">:</span> <span class="n">obs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DATASOURCE&quot;</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="n">combined_data</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">series_data</span><span class="p">,</span> <span class="o">**</span><span class="n">obs_data</span><span class="p">}</span>  <span class="c1"># Series와 Obs 정보를 합침</span>
        <span class="n">data_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">combined_data</span><span class="p">)</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_trade_stats</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_list</span><span class="p">)</span>
<span class="n">df_trade_stats</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FREQ</th>
      <th>REPORTER</th>
      <th>PARTNER</th>
      <th>PRODUCTCODE</th>
      <th>INDICATOR</th>
      <th>TIME_PERIOD</th>
      <th>OBS_VALUE</th>
      <th>DATASOURCE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>USA</td>
      <td>ABW</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2000</td>
      <td>35503.683</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A</td>
      <td>USA</td>
      <td>AFG</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2000</td>
      <td>412.74</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A</td>
      <td>USA</td>
      <td>AGO</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2000</td>
      <td>654.621</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A</td>
      <td>USA</td>
      <td>AIA</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2000</td>
      <td>262.087</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A</td>
      <td>USA</td>
      <td>ALB</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2000</td>
      <td>87.541</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>166</th>
      <td>A</td>
      <td>USA</td>
      <td>WLD</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2000</td>
      <td>13853026.143</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>167</th>
      <td>A</td>
      <td>USA</td>
      <td>WSM</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2000</td>
      <td>181.479</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>168</th>
      <td>A</td>
      <td>USA</td>
      <td>YEM</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2000</td>
      <td>117.117</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>169</th>
      <td>A</td>
      <td>USA</td>
      <td>ZAF</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2000</td>
      <td>91692.746</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>170</th>
      <td>A</td>
      <td>USA</td>
      <td>ZMB</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2000</td>
      <td>67.056</td>
      <td>WITS-CMT</td>
    </tr>
  </tbody>
</table>
<p>171 rows × 8 columns</p>
</div></div></div>
</div>
</section>
</section>
<section id="id10">
<h3>3.3 SDMX 쿼리 요청<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<p>SDMX 쿼리 요청 유형에는 두 가지가 있다. 하나는 메타데이터를 가져오는 요청 유형이고, 다른 하나는 무역 통계 데이터를 가져오는 요청 유형이다. 다음 두 가지 SDMX 응답 형식이 지원된다.</p>
<ul class="simple">
<li><p><strong>SDMX-ML 2.1 generic schema:</strong> 기본적으로 이 방식의 응답이 제공된다.</p></li>
<li><p><strong>SDMX-ML 2.1 structure specific schema:</strong> 구조 특정 스키마는 대량의 데이터를 처리하는 데 더 적합하다. 이 형식으로 응답을 받으려면 SDMX 쿼리 요청의 HTTP 요청 헤더 필드를 “Accept: application/vnd.sdmx.structurespecificdata+xml”로 수정한다.</p></li>
<li><p><strong>JSON 형식:</strong> JSON 형식으로 데이터를 받으려면 SDMX 데이터 쿼리 요청의 HTTP 요청 헤더 필드를 “Accept: application/vnd.sdmx.data+json;version=1.0.0-wd”로 수정한다.</p></li>
</ul>
<section id="id11">
<h4>Data Flow<a class="headerlink" href="#id11" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 UNCTAD TRAINS 데이터세트의 고유 데이터세트 코드를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/dataflow/wbg_wits/&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">base_url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.sdmx.org/resources/sdmxml/schemas/v2_1/structure&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">dataflow</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Dataflow&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s2">&quot;Dataflow_ID&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
        <span class="s2">&quot;Agency_ID&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;agencyID&quot;</span><span class="p">),</span>
        <span class="s2">&quot;Version&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">),</span>
        <span class="s2">&quot;IsFinal&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isFinal&quot;</span><span class="p">),</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:Name&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:Name&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:Description&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:Description&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_dataflow</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_dataflow</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Dataflow_ID</th>
      <th>Agency_ID</th>
      <th>Version</th>
      <th>IsFinal</th>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>DF_WITS_Tariff_TRAINS</td>
      <td>WBG_WITS</td>
      <td>1.1</td>
      <td>false</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>DF_WITS_TradeStats_Development</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>false</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>DF_WITS_TradeStats_Tariff</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>false</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>DF_WITS_TradeStats_Trade</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>false</td>
      <td>None</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id12">
<h4>Code List<a class="headerlink" href="#id12" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 WITS API의 전체 데이터세트에 대한 코드 리스트를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/codelist/all&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">base_url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.sdmx.org/resources/sdmxml/schemas/v2_1/structure&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">codelist</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Codelist&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">codelist</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;ns:Code&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s2">&quot;Codelist_ID&quot;</span><span class="p">:</span> <span class="n">codelist</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
            <span class="s2">&quot;Codelist_Agency&quot;</span><span class="p">:</span> <span class="n">codelist</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;agencyID&quot;</span><span class="p">),</span>
            <span class="s2">&quot;Codelist_Version&quot;</span><span class="p">:</span> <span class="n">codelist</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">),</span>
            <span class="s2">&quot;Code_ID&quot;</span><span class="p">:</span> <span class="n">code</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
            <span class="s2">&quot;Code_Description&quot;</span><span class="p">:</span> <span class="n">code</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:Description&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">code</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ns:Description&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_codelist</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_codelist</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Codelist_ID</th>
      <th>Codelist_Agency</th>
      <th>Codelist_Version</th>
      <th>Code_ID</th>
      <th>Code_Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CL_UPDATE_STATUS</td>
      <td>MA</td>
      <td>1.0</td>
      <td>Added</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>CL_UPDATE_STATUS</td>
      <td>MA</td>
      <td>1.0</td>
      <td>Updated</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>CL_UPDATE_STATUS</td>
      <td>MA</td>
      <td>1.0</td>
      <td>Deleted</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>SDMX_M_PERIODS</td>
      <td>MA</td>
      <td>1.0</td>
      <td>03</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>SDMX_M_PERIODS</td>
      <td>MA</td>
      <td>1.0</td>
      <td>06</td>
      <td>None</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>7212</th>
      <td>CL_TS_PRODUCTCODE_WITS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>Transp</td>
      <td>None</td>
    </tr>
    <tr>
      <th>7213</th>
      <td>CL_TS_PRODUCTCODE_WITS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>UNCTAD-SoP1</td>
      <td>None</td>
    </tr>
    <tr>
      <th>7214</th>
      <td>CL_TS_PRODUCTCODE_WITS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>UNCTAD-SoP2</td>
      <td>None</td>
    </tr>
    <tr>
      <th>7215</th>
      <td>CL_TS_PRODUCTCODE_WITS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>UNCTAD-SoP3</td>
      <td>None</td>
    </tr>
    <tr>
      <th>7216</th>
      <td>CL_TS_PRODUCTCODE_WITS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>UNCTAD-SoP4</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
<p>7217 rows × 5 columns</p>
</div></div></div>
</div>
</section>
<section id="id13">
<h4>Data Structure Definition (DSD)<a class="headerlink" href="#id13" title="Link to this heading">#</a></h4>
<p>[메타데이터] 이 API는 Trade Stats 데이터세트의 데이터구조정의(DSD)를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/datastructure/WBG_WITS/TRADESTATS/&quot;</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">base_url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.sdmx.org/resources/sdmxml/schemas/v2_1/structure&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">structure</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:DataStructure&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="n">structure_id</span> <span class="o">=</span> <span class="n">structure</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
    <span class="n">agency_id</span> <span class="o">=</span> <span class="n">structure</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;agencyID&quot;</span><span class="p">)</span>
    <span class="n">version</span> <span class="o">=</span> <span class="n">structure</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">structure</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Dimension&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s2">&quot;Structure_ID&quot;</span><span class="p">:</span> <span class="n">structure_id</span><span class="p">,</span>
            <span class="s2">&quot;Agency_ID&quot;</span><span class="p">:</span> <span class="n">agency_id</span><span class="p">,</span>
            <span class="s2">&quot;Version&quot;</span><span class="p">:</span> <span class="n">version</span><span class="p">,</span>
            <span class="s2">&quot;Component_Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Dimension&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Component_ID&quot;</span><span class="p">:</span> <span class="n">component</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
        <span class="p">})</span>
    
    <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="n">structure</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Attribute&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s2">&quot;Structure_ID&quot;</span><span class="p">:</span> <span class="n">structure_id</span><span class="p">,</span>
            <span class="s2">&quot;Agency_ID&quot;</span><span class="p">:</span> <span class="n">agency_id</span><span class="p">,</span>
            <span class="s2">&quot;Version&quot;</span><span class="p">:</span> <span class="n">version</span><span class="p">,</span>
            <span class="s2">&quot;Component_Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Attribute&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Component_ID&quot;</span><span class="p">:</span> <span class="n">attribute</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
        <span class="p">})</span>
    
    <span class="k">for</span> <span class="n">measure</span> <span class="ow">in</span> <span class="n">structure</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:PrimaryMeasure&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s2">&quot;Structure_ID&quot;</span><span class="p">:</span> <span class="n">structure_id</span><span class="p">,</span>
            <span class="s2">&quot;Agency_ID&quot;</span><span class="p">:</span> <span class="n">agency_id</span><span class="p">,</span>
            <span class="s2">&quot;Version&quot;</span><span class="p">:</span> <span class="n">version</span><span class="p">,</span>
            <span class="s2">&quot;Component_Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Measure&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Component_ID&quot;</span><span class="p">:</span> <span class="n">measure</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
        <span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_dsd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_dsd</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Structure_ID</th>
      <th>Agency_ID</th>
      <th>Version</th>
      <th>Component_Type</th>
      <th>Component_ID</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>TRADESTATS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>Dimension</td>
      <td>FREQ</td>
    </tr>
    <tr>
      <th>1</th>
      <td>TRADESTATS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>Dimension</td>
      <td>REPORTER</td>
    </tr>
    <tr>
      <th>2</th>
      <td>TRADESTATS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>Dimension</td>
      <td>PARTNER</td>
    </tr>
    <tr>
      <th>3</th>
      <td>TRADESTATS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>Dimension</td>
      <td>PRODUCTCODE</td>
    </tr>
    <tr>
      <th>4</th>
      <td>TRADESTATS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>Dimension</td>
      <td>INDICATOR</td>
    </tr>
    <tr>
      <th>5</th>
      <td>TRADESTATS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>Attribute</td>
      <td>DATASOURCE</td>
    </tr>
    <tr>
      <th>6</th>
      <td>TRADESTATS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>Measure</td>
      <td>None</td>
    </tr>
    <tr>
      <th>7</th>
      <td>TRADESTATS</td>
      <td>WBG_WITS</td>
      <td>1.0</td>
      <td>Measure</td>
      <td>OBS_VALUE</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id14">
<h4>Trade Stats 데이터<a class="headerlink" href="#id14" title="Link to this heading">#</a></h4>
<p>이 API는 Trade Stats–Trade, Trade Stats–Tariff, Trade Stats–Development 데이터를 조회할 수 있는 다양한 옵션을 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;df_wits_tradestats_trade&quot;</span><span class="p">,</span>  <span class="c1"># df_wits_tradestats_tariff, df_wits_tradestats_development 가능</span>
    <span class="s2">&quot;freq&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reporter&quot;</span><span class="p">:</span> <span class="s2">&quot;usa&quot;</span><span class="p">,</span>
    <span class="s2">&quot;partner&quot;</span><span class="p">:</span> <span class="s2">&quot;wld&quot;</span><span class="p">,</span>
    <span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;fuels&quot;</span><span class="p">,</span>
    <span class="s2">&quot;indicator&quot;</span><span class="p">:</span> <span class="s2">&quot;XPRT-TRD-VL&quot;</span><span class="p">,</span>
    <span class="s2">&quot;start_year&quot;</span><span class="p">:</span> <span class="s2">&quot;2000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;end_year&quot;</span><span class="p">:</span> <span class="s2">&quot;2002&quot;</span><span class="p">,</span>
    <span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;Full&quot;</span>
<span class="p">}</span>

<span class="c1"># 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;freq&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;reporter&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;partner&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;product&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;indicator&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;?startperiod=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;start_year&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;&amp;endperiod=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;end_year&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;&amp;detail=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;detail&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="p">)</span>

<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.sdmx.org/resources/sdmxml/schemas/v2_1/data/generic&quot;</span><span class="p">}</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">series</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Series&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
    <span class="n">series_key</span> <span class="o">=</span> <span class="p">{</span><span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">dim</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:SeriesKey/ns:Value&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)}</span>
    <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Obs&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
        <span class="n">obs_time</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.//ns:ObsDimension&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>
        <span class="n">obs_value</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.//ns:ObsValue&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">obs</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Attributes/ns:Value&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)}</span>
        <span class="k">if</span> <span class="n">obs_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">obs_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="o">**</span><span class="n">series_key</span><span class="p">,</span> <span class="s2">&quot;Time&quot;</span><span class="p">:</span> <span class="n">obs_time</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">),</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="n">obs_value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">),</span> <span class="o">**</span><span class="n">attributes</span><span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_trade_stats</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_trade_stats</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FREQ</th>
      <th>REPORTER</th>
      <th>PARTNER</th>
      <th>PRODUCTCODE</th>
      <th>INDICATOR</th>
      <th>Time</th>
      <th>Value</th>
      <th>DATASOURCE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>USA</td>
      <td>WLD</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2000</td>
      <td>13853026.143</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A</td>
      <td>USA</td>
      <td>WLD</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2001</td>
      <td>13170348.242</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A</td>
      <td>USA</td>
      <td>WLD</td>
      <td>Fuels</td>
      <td>XPRT-TRD-VL</td>
      <td>2002</td>
      <td>12165131.757</td>
      <td>WITS-CMT</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
</section>
<section id="id15">
<h2>4. 관세 데이터 추출<a class="headerlink" href="#id15" title="Link to this heading">#</a></h2>
<p>[SDMX 쿼리 요청 방식] 이 API는 교역 및 비교역 관세품목의 관세 데이터를 조회한다. 다양한 옵션을 제공하여 관세율을 검색할 수 있으며, 나라-기간-교역상대국 전체 관세율 또는 나라-교역상대국-제품별 관세율을 특정 기간에 대해 요청할 수 있다.</p>
<section id="id16">
<h3>파라미터 및 반환 항목<a class="headerlink" href="#id16" title="Link to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>파라미터</p></th>
<th class="head text-left"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Freq</p></td>
<td class="text-left"><p>주기의 가능한 값은 “A”이다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>DataType</p></td>
<td class="text-left"><p>“reported” 또는 “aveestimated” 값을 가질 수 있다.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Reporter</p></td>
<td class="text-left"><p>코드 리스트에서 단일 나라 코드 또는 나라 코드 리스트 값을 가질 수 있다. 값이 지정되지 않으면 모든 이용 가능한 reporter로 간주된다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Product</p></td>
<td class="text-left"><p>단일 product 코드 또는 product 코드 리스트 값을 가질 수 있다. 값이 지정되지 않으면 모든 이용 가능한 product 코드로 간주된다.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Partner</p></td>
<td class="text-left"><p>단일 partner 코드 또는 partner 코드 리스트 값을 가질 수 있다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>StartPeriod</p></td>
<td class="text-left"><p>1988년 이후의 값을 가질 수 있다. 값이 지정되지 않으면 이용 가능한 연도의 관세 데이터가 반환된다.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>EndPeriod</p></td>
<td class="text-left"><p>1988년 이후의 값을 가질 수 있다. 값이 지정되지 않으면 시작 기간부터 최신 이용 가능한 연도까지의 관세 데이터가 반환된다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Detail</p></td>
<td class="text-left"><p>선택적 파라미터로, 반환될 정보의 양을 지정한다. 아래 값 중 하나를 가질 수 있다. <br> - Full: 모든 데이터 및 문서, 주석 포함 (기본값) <br> - DataOnly: 속성 및 그룹이 제외된다. <br> - SeriesKeysOnly: 시리즈 키를 구성하는 시리즈 요소 및 차원만 포함된다. <br> - NoData: 속성 및 주석을 포함한 그룹 및 시리즈를 반환하지만 관측값은 제외된다.</p></td>
</tr>
</tbody>
</table>
<p><strong>반환되는 항목</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>항목</p></th>
<th class="head text-left"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>FREQ</p></td>
<td class="text-left"><p>주기의 가능한 값은 “A”이다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>DATATYPE</p></td>
<td class="text-left"><p>“reported” 또는 “aveestimated” 값을 가질 수 있다.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>PRODUCTCODE</p></td>
<td class="text-left"><p>product 코드, HS 6자리 코드.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Partner</p></td>
<td class="text-left"><p>교역상대국</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Reporter</p></td>
<td class="text-left"><p>보고국</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Time</p></td>
<td class="text-left"><p>연도</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Value</p></td>
<td class="text-left"><p>해당 HS 6자리 코드 내 모든 나라 관세라인의 종가세율 단순 평균.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>TARIFFTYPE</p></td>
<td class="text-left"><p>관세율이 특혜 관세(PREF)인지 최혜국 관세(MFN)인지 식별함.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>TOTALNOOFLINES</p></td>
<td class="text-left"><p>해당 HS 6자리 코드 내 모든 나라 관세라인의 총 수.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>NBR_PREF_LINES</p></td>
<td class="text-left"><p>특혜 관세가 적용되는 해당 HS 6자리 코드 내 국가 관세라인의 수.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>NBR_MFN_LINES</p></td>
<td class="text-left"><p>특혜 관세가 적용되지 않는 해당 HS 6자리 코드 내 국가 관세라인의 수 (단순 평균 계산에 MFN 요율이 사용됨).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>NBR_NA_LINES</p></td>
<td class="text-left"><p>종가세 형태가 아닌 특혜 관세가 적용되는 해당 HS 6자리 코드 내 국가 관세라인의 수 (단순 평균 계산에 포함되지 않음).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>SUM_OF_RATES</p></td>
<td class="text-left"><p>해당 HS 6자리 코드 내 모든 나라 관세라인의 종가세율 합계.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>MIN_RATE</p></td>
<td class="text-left"><p>해당 HS 6자리 코드 내 모든 나라 관세라인 중 가장 낮은 종가세율.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>MAX_RATE</p></td>
<td class="text-left"><p>해당 HS 6자리 코드 내 모든 나라 관세라인 중 가장 높은 종가세율.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>NOMENCODE</p></td>
<td class="text-left"><p>사용된 HS 개정판 (H0 = HS 1988/92, H1 = HS 1996, H2 = HS 2002, H3 = HS 2007, H4 = HS 2012).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>EXCLUDEDFROM</p></td>
<td class="text-left"><p>해당 제품에 대해 특혜 관세 적용에서 제외된 나라의 나라 코드.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id17">
<h3>예 1: 한국 2000년 관세 데이터<a class="headerlink" href="#id17" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/DF_WITS_Tariff_TRAINS/&quot;</span>

<span class="c1"># 요청 파라미터 설정(한국-전세계-전제품-2000년)</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;freq&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reporter&quot;</span><span class="p">:</span> <span class="s2">&quot;410&quot;</span><span class="p">,</span>
    <span class="s2">&quot;partner&quot;</span><span class="p">:</span> <span class="s2">&quot;000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;datatype&quot;</span><span class="p">:</span> <span class="s2">&quot;reported&quot;</span><span class="p">,</span>
    <span class="s2">&quot;start_year&quot;</span><span class="p">:</span> <span class="s2">&quot;2000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;end_year&quot;</span><span class="p">:</span> <span class="s2">&quot;2000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;Full&quot;</span>
<span class="p">}</span>

<span class="c1"># API 요청 URL 생성</span>
<span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;freq&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;reporter&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;partner&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;product&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;datatype&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;/?startperiod=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;start_year&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;&amp;endperiod=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;end_year&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;&amp;detail=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;detail&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="p">)</span>
    
<span class="c1"># API 요청</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># 오류 발생 시 예외 처리</span>

<span class="c1"># XML 파싱</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="s2">&quot;{http://www.sdmx.org/resources/sdmxml/schemas/v2_1/data/generic}&quot;</span>

<span class="c1"># 데이터 추출</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">series</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Series&quot;</span><span class="p">):</span>
    <span class="n">series_key</span> <span class="o">=</span> <span class="p">{</span><span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">dim</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">SeriesKey/</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Value&quot;</span><span class="p">)}</span>
    <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Obs&quot;</span><span class="p">):</span>
        <span class="n">obs_time</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">ObsDimension&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">obs_value</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">ObsValue&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">obs</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.//</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Attributes/</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">Value&quot;</span><span class="p">)}</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="o">**</span><span class="n">series_key</span><span class="p">,</span> <span class="s2">&quot;Time&quot;</span><span class="p">:</span> <span class="n">obs_time</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="n">obs_value</span><span class="p">,</span> <span class="o">**</span><span class="n">attributes</span><span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_tariff</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df_tariff</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FREQ</th>
      <th>DATATYPE</th>
      <th>PRODUCTCODE</th>
      <th>PARTNER</th>
      <th>REPORTER</th>
      <th>Time</th>
      <th>Value</th>
      <th>TARIFFTYPE</th>
      <th>OBS_VALUE_MEASURE</th>
      <th>TOTALNOOFLINES</th>
      <th>NBR_PREF_LINES</th>
      <th>NBR_MFN_LINES</th>
      <th>NBR_NA_LINES</th>
      <th>SUM_OF_RATES</th>
      <th>MIN_RATE</th>
      <th>MAX_RATE</th>
      <th>NOMENCODE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>Reported</td>
      <td>010111</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A</td>
      <td>Reported</td>
      <td>010119</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>16</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A</td>
      <td>Reported</td>
      <td>010120</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A</td>
      <td>Reported</td>
      <td>010210</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>93.0999984741211</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>279.299987792969</td>
      <td>93.0999984741211</td>
      <td>93.0999984741211</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A</td>
      <td>Reported</td>
      <td>010290</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>27.8666667938232</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>83.5999984741211</td>
      <td>0</td>
      <td>41.7999992370605</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5108</th>
      <td>A</td>
      <td>Reported</td>
      <td>970200</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5109</th>
      <td>A</td>
      <td>Reported</td>
      <td>970300</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5110</th>
      <td>A</td>
      <td>Reported</td>
      <td>970400</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5111</th>
      <td>A</td>
      <td>Reported</td>
      <td>970500</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>5112</th>
      <td>A</td>
      <td>Reported</td>
      <td>970600</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H1</td>
    </tr>
  </tbody>
</table>
<p>5113 rows × 17 columns</p>
</div></div></div>
</div>
</section>
<section id="id18">
<h3>예 2: 한국 2000-23년 관세 데이터<a class="headerlink" href="#id18" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>한국의 Tariff Data를 2000년부터 2023년까지 각 연도별로 요청 실행해서 하나의 데이터프레임으로 합치기.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;freq&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reporter&quot;</span><span class="p">:</span> <span class="s2">&quot;410&quot;</span><span class="p">,</span>
    <span class="s2">&quot;partner&quot;</span><span class="p">:</span> <span class="s2">&quot;000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;datatype&quot;</span><span class="p">:</span> <span class="s2">&quot;reported&quot;</span><span class="p">,</span>
    <span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;Full&quot;</span>
<span class="p">}</span>

<span class="c1"># 요청 URL 생성</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/DF_WITS_Tariff_TRAINS/&quot;</span>

<span class="n">df_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># 2000년부터 2023년까지 연도별 요청 실행</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2024</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;.</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;reporter&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;.</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;partner&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;.</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;product&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;.</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;datatype&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;/?startperiod=</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;&amp;endperiod=</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.sdmx.org/resources/sdmxml/schemas/v2_1/data/generic&quot;</span><span class="p">}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">series</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Series&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
            <span class="n">series_key</span> <span class="o">=</span> <span class="p">{</span><span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">dim</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:SeriesKey/ns:Value&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)}</span>
            <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Obs&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
                <span class="n">obs_time</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.//ns:ObsDimension&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>
                <span class="n">obs_value</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.//ns:ObsValue&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>
                <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">obs</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Attributes/ns:Value&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)}</span>
                <span class="k">if</span> <span class="n">obs_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">obs_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="o">**</span><span class="n">series_key</span><span class="p">,</span> <span class="s2">&quot;Time&quot;</span><span class="p">:</span> <span class="n">obs_time</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">),</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="n">obs_value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">),</span> <span class="o">**</span><span class="n">attributes</span><span class="p">})</span>
        
        <span class="n">df_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;오류 발생: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">년도 데이터 요청 실패&quot;</span><span class="p">)</span>

<span class="c1"># 모든 데이터를 하나의 데이터프레임으로 합치기</span>
<span class="n">df_tariff</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">df_list</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_tariff</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>오류 발생: 404 - 2019년도 데이터 요청 실패
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FREQ</th>
      <th>DATATYPE</th>
      <th>PRODUCTCODE</th>
      <th>PARTNER</th>
      <th>REPORTER</th>
      <th>Time</th>
      <th>Value</th>
      <th>TARIFFTYPE</th>
      <th>OBS_VALUE_MEASURE</th>
      <th>TOTALNOOFLINES</th>
      <th>NBR_PREF_LINES</th>
      <th>NBR_MFN_LINES</th>
      <th>NBR_NA_LINES</th>
      <th>SUM_OF_RATES</th>
      <th>MIN_RATE</th>
      <th>MAX_RATE</th>
      <th>NOMENCODE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>Reported</td>
      <td>010111</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A</td>
      <td>Reported</td>
      <td>010119</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>16</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A</td>
      <td>Reported</td>
      <td>010120</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>8</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A</td>
      <td>Reported</td>
      <td>010210</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>93.0999984741211</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>279.299987792969</td>
      <td>93.0999984741211</td>
      <td>93.0999984741211</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A</td>
      <td>Reported</td>
      <td>010290</td>
      <td>000</td>
      <td>410</td>
      <td>2000</td>
      <td>27.8666667938232</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>83.5999984741211</td>
      <td>0</td>
      <td>41.7999992370605</td>
      <td>H1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>120403</th>
      <td>A</td>
      <td>Reported</td>
      <td>970529</td>
      <td>000</td>
      <td>410</td>
      <td>2023</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H6</td>
    </tr>
    <tr>
      <th>120404</th>
      <td>A</td>
      <td>Reported</td>
      <td>970531</td>
      <td>000</td>
      <td>410</td>
      <td>2023</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H6</td>
    </tr>
    <tr>
      <th>120405</th>
      <td>A</td>
      <td>Reported</td>
      <td>970539</td>
      <td>000</td>
      <td>410</td>
      <td>2023</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H6</td>
    </tr>
    <tr>
      <th>120406</th>
      <td>A</td>
      <td>Reported</td>
      <td>970610</td>
      <td>000</td>
      <td>410</td>
      <td>2023</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H6</td>
    </tr>
    <tr>
      <th>120407</th>
      <td>A</td>
      <td>Reported</td>
      <td>970690</td>
      <td>000</td>
      <td>410</td>
      <td>2023</td>
      <td>0</td>
      <td>MFN</td>
      <td>SimpleAverage</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>H6</td>
    </tr>
  </tbody>
</table>
<p>120408 rows × 17 columns</p>
</div></div></div>
</div>
</section>
</section>
<section id="id19">
<h2>5. 무역 통계 데이터 추출<a class="headerlink" href="#id19" title="Link to this heading">#</a></h2>
<p>[SDMX 쿼리 요청 방식] 이 API는 교역 및 비교역 관세품목의 관세 데이터를 조회한다. 다양한 옵션을 제공하여 관세율을 검색할 수 있으며, 나라-기간-교역상대국 전체 관세율 또는 나라-교역상대국-제품별 관세율을 특정 기간에 대해 요청할 수 있다.</p>
<section id="indicator-product">
<h3>파라미터 및 Indicator &amp; Product 코드<a class="headerlink" href="#indicator-product" title="Link to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>파라미터</p></th>
<th class="head text-left"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Freq</p></td>
<td class="text-left"><p>빈도(frequency)의 가능한 값은 “A”이다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Reporter</p></td>
<td class="text-left"><p>“All” 또는 Reporter 및 Partner 메타데이터의 ISO3 국가 코드 리스트를 값으로 가질 수 있다.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Product</p></td>
<td class="text-left"><p>“All” 또는 Product 메타데이터의 제품 그룹 코드 리스트를 값으로 가질 수 있다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Partner</p></td>
<td class="text-left"><p>“All” 또는 데이터 가용성 메타데이터의 파트너 코드 리스트를 값으로 가질 수 있다.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Year</p></td>
<td class="text-left"><p>“All” 또는 데이터 가용성 메타데이터의 값 리스트를 가질 수 있다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Indicator</p></td>
<td class="text-left"><p>“All” 또는 Indicator 메타데이터의 Indicator 코드 리스트를 값으로 가질 수 있다.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>StartPeriod</p></td>
<td class="text-left"><p>연도 파라미터로 1988년 이후의 값을 가질 수 있다. 지정하지 않으면 사용 가능한 연도의 데이터를 반환한다.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>EndPeriod</p></td>
<td class="text-left"><p>연도 파라미터로 1988년 이후의 값을 가질 수 있다. 지정하지 않으면 시작 연도부터 최신 연도까지의 데이터를 반환한다.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Detail</p></td>
<td class="text-left"><p>선택적 파라미터로, 반환될 정보의 양을 지정한다. 아래 값 중 하나를 가질 수 있다. <br> - Full: 모든 데이터 및 문서, 주석 포함 (기본값) <br> - DataOnly: 속성 및 그룹이 제외된다. <br> - SeriesKeysOnly: 시리즈 키를 구성하는 시리즈 요소 및 차원만 포함된다. <br> - NoData: 속성 및 주석을 포함한 그룹 및 시리즈를 반환하지만 관측값은 제외된다.</p></td>
</tr>
</tbody>
</table>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Indicator</p></th>
<th class="head text-left"><p>영어</p></th>
<th class="head text-left"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>CNTRY-GRWTH</p></td>
<td class="text-left"><p>Country Growth By Country Product to World</p></td>
<td class="text-left"><p>국가별 특정 상품의 수입 성장률 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>MPRT-PRDCT-SHR</p></td>
<td class="text-left"><p>Import Product Share By Country Product from World</p></td>
<td class="text-left"><p>국가별 특정 상품의 세계 수입 점유율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>MPRT-TRD-VL</p></td>
<td class="text-left"><p>Imports By Country Product from World</p></td>
<td class="text-left"><p>국가별 특정 상품의 총 수입액 (천 달러)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>RCA</p></td>
<td class="text-left"><p>Revealed Comparative Advantage By Country Product to World</p></td>
<td class="text-left"><p>국가별 특정 상품의 비교우위 지수 (RCA)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>WRLD-GRWTH</p></td>
<td class="text-left"><p>World Growth By Country Product to World</p></td>
<td class="text-left"><p>특정 상품의 세계 무역 성장률 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>XPRT-PRDCT-SHR</p></td>
<td class="text-left"><p>Export Product Share By Country Product to World</p></td>
<td class="text-left"><p>국가별 특정 상품의 세계 수출 점유율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>XPRT-TRD-VL</p></td>
<td class="text-left"><p>Exports By Country Product to World</p></td>
<td class="text-left"><p>국가별 특정 상품의 총 수출액 (천 달러)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>MPRT-PRTNR-SHR</p></td>
<td class="text-left"><p>Import Partner Share By Country</p></td>
<td class="text-left"><p>국가별 특정 상품의 주요 수입 파트너 점유율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>MPRT-SHR-TTL-PRDCT</p></td>
<td class="text-left"><p>Import Share of Total Products By Country</p></td>
<td class="text-left"><p>국가별 총 상품 대비 특정 상품의 수입 점유율 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>NMBR-MPRT-HS6-PRDCT</p></td>
<td class="text-left"><p>Number of Imported HS6 Products</p></td>
<td class="text-left"><p>HS 6자리 기준 국가별 수입 제품 개수</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>NMBR-XPRT-HS6-PRDCT</p></td>
<td class="text-left"><p>Number of Exported HS6 Products</p></td>
<td class="text-left"><p>HS 6자리 기준 국가별 수출 제품 개수</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>XPRT-PRTNR-SHR</p></td>
<td class="text-left"><p>Export Partner Share By Country</p></td>
<td class="text-left"><p>국가별 특정 상품의 주요 수출 파트너 점유율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>XPRT-SHR-TTL-PRDCT</p></td>
<td class="text-left"><p>Export Share of Total Products By Country</p></td>
<td class="text-left"><p>국가별 총 상품 대비 특정 상품의 수출 점유율 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>AHS-AVE-TRFF-LN-SHR</p></td>
<td class="text-left"><p>AHS AVE Tariff Lines Share By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 평균 관세율이 적용된 품목 비율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>AHS-DTBL-MPRT</p></td>
<td class="text-left"><p>AHS Dutiable Imports By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 과세 대상 수입액 (천 달러)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>AHS-DTBL-TRFF-LNS-SHR</p></td>
<td class="text-left"><p>AHS Dutiable Tariff Lines Share By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 과세 대상 품목 비율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>AHS-DTY-FR-MPRTs</p></td>
<td class="text-left"><p>AHS Duty Free Imports By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 무관세 수입액 (천 달러)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>AHS-DTY-FR-TRFF-LNS-SHR</p></td>
<td class="text-left"><p>AHS Duty Free Tariff Lines Share By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 무관세 품목 비율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>AHS-MNMM-RATE</p></td>
<td class="text-left"><p>AHS Minimum Rate By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 최저 관세율 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>AHS-MXMM-RT</p></td>
<td class="text-left"><p>AHS Maximum Rate By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 최고 관세율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>AHS-SMPL-AVRG</p></td>
<td class="text-left"><p>AHS Simple Average By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 단순 평균 관세율 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>AHS-SPCFC-DTY-MPRT</p></td>
<td class="text-left"><p>AHS Specific Duty Imports By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 특정 관세 부과 수입액 (천 달러)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>AHS-SPCFC-TRFF-LNS-SHR</p></td>
<td class="text-left"><p>AHS Specific Tariff Lines Share By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 특정 관세 적용 품목 비율 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>AHS-TTL-TRFF-LNS</p></td>
<td class="text-left"><p>AHS Total Tariff Lines By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 총 관세 적용 품목 개수</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>AHS-WGHTD-AVRG</p></td>
<td class="text-left"><p>AHS Weighted Average By Country Product</p></td>
<td class="text-left"><p>AHS 기준 특정 상품의 가중 평균 관세율 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>MFN-AVE-TRFF-LNS-SHR</p></td>
<td class="text-left"><p>MFN AVE Tariff Lines Share By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 평균 관세율이 적용된 품목 비율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>MFN-DTBL-MPRT</p></td>
<td class="text-left"><p>MFN Dutiable Imports By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 과세 대상 수입액 (천 달러)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>MFN-DTBL-TRFF-LNS-SHR</p></td>
<td class="text-left"><p>MFN Dutiable Tariff Lines Share By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 과세 대상 품목 비율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>MFN-DTY-FR-MPRTs</p></td>
<td class="text-left"><p>MFN Duty Free Imports By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 무관세 수입액 (천 달러)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>MFN-DTY-FR-TRFF-LNS-SHR</p></td>
<td class="text-left"><p>MFN Duty Free Tariff Lines Share By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 무관세 품목 비율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>MFN-MNMN-RT</p></td>
<td class="text-left"><p>MFN Minimum Rate By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 최저 관세율 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>MFN-MXMM-RT</p></td>
<td class="text-left"><p>MFN Maximum Rate By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 최고 관세율 (%)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>MFN-SMPL-AVRG</p></td>
<td class="text-left"><p>MFN Simple Average By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 단순 평균 관세율 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>MFN-SPCFC-DTY-MPRT</p></td>
<td class="text-left"><p>MFN Specific Duty Imports By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 특정 관세 부과 수입액 (천 달러)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>MFN-SPCFC-TRFF-LNS-SHR</p></td>
<td class="text-left"><p>MFN Specific Tariff Lines Share By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 특정 관세 적용 품목 비율 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>MFN-TTL-TRFF-LNS</p></td>
<td class="text-left"><p>MFN Total Tariff Lines By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 총 관세 적용 품목 개수</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>MFN-WGHTD-AVRG</p></td>
<td class="text-left"><p>MFN Weighted Average By Country Product</p></td>
<td class="text-left"><p>MFN 기준 특정 상품의 가중 평균 관세율 (%)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>TRF-NMBR-AGGRMNT</p></td>
<td class="text-left"><p>Number of Tariff Agreements</p></td>
<td class="text-left"><p>특정 상품의 관세 협정 개수</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>주 1) 연도 범위: 1988-2022.</p></li>
<li><p>주 2) AHS (Applied Harmonized System) 기준: FTA 등 특혜 관세율이 반영된 실행 관세율, MFN (Most Favored Nation) 기준: WTO 회원국 모두에게 동일하게 적용되는 기본 관세율.</p></li>
</ul>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Product 코드</p></th>
<th class="head text-left"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>01-05_Animal</strong></p></td>
<td class="text-left"><p>동물 및 동물성 제품</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>06-15_Vegetable</strong></p></td>
<td class="text-left"><p>식물성 제품 (채소, 과일, 곡물 등)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>16-24_FoodProd</strong></p></td>
<td class="text-left"><p>식품 가공품 (음료, 조제식품 등)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>25-26_Minerals</strong></p></td>
<td class="text-left"><p>광물성 제품 (광석, 천연가스 등)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>27-27_Fuels</strong></p></td>
<td class="text-left"><p>연료 (석유, 석탄, 천연가스 등)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>28-38_Chemicals</strong></p></td>
<td class="text-left"><p>화학 제품 (유기화학품, 의약품, 비료 등)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>39-40_PlastiRub</strong></p></td>
<td class="text-left"><p>플라스틱 및 고무 제품</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>41-43_HidesSkin</strong></p></td>
<td class="text-left"><p>가죽 및 가죽 제품 (모피 포함)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>44-49_Wood</strong></p></td>
<td class="text-left"><p>목재 및 목재 제품 (펄프, 종이 등 포함)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>50-63_TextCloth</strong></p></td>
<td class="text-left"><p>섬유 및 의류 제품</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>64-67_Footwear</strong></p></td>
<td class="text-left"><p>신발 및 관련 제품</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>68-71_StoneGlas</strong></p></td>
<td class="text-left"><p>석재, 유리 및 유사 제품 (귀금속 포함)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>72-83_Metals</strong></p></td>
<td class="text-left"><p>금속 및 금속 제품 (철강, 비철금속 등)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>84-85_MachElec</strong></p></td>
<td class="text-left"><p>기계 및 전자제품 (컴퓨터, 가전제품 포함)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>86-89_Transport</strong></p></td>
<td class="text-left"><p>운송 장비 (자동차, 선박, 항공기 등)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>90-99_Miscellan</strong></p></td>
<td class="text-left"><p>기타 제조품 (정밀 기기, 악기, 가구 등)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>999999</strong></p></td>
<td class="text-left"><p>총합 (전체 상품)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>AgrRaw</strong></p></td>
<td class="text-left"><p>농산 원자재 (가공되지 않은 농산물)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Chemical</strong></p></td>
<td class="text-left"><p>화학 제품 (약품, 염료, 화학물질 등)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Food</strong></p></td>
<td class="text-left"><p>식품 및 음료</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Fuels</strong></p></td>
<td class="text-left"><p>연료 및 에너지 자원</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>manuf</strong></p></td>
<td class="text-left"><p>제조업 제품 (가공된 상품 전체)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>OresMtls</strong></p></td>
<td class="text-left"><p>광석 및 금속 (비철금속 포함)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Textiles</strong></p></td>
<td class="text-left"><p>섬유 및 직물 제품</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Total</strong></p></td>
<td class="text-left"><p>전체 상품 총합</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Transp</strong></p></td>
<td class="text-left"><p>운송 장비 (자동차, 철도, 항공, 해운 등)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>UNCTAD-SoP1</strong></p></td>
<td class="text-left"><p>UNCTAD 분류: 1단계 원자재 (Raw materials)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>UNCTAD-SoP2</strong></p></td>
<td class="text-left"><p>UNCTAD 분류: 2단계 중간재 (Intermediate goods)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>UNCTAD-SoP3</strong></p></td>
<td class="text-left"><p>UNCTAD 분류: 3단계 소비재 (Consumer goods)</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>UNCTAD-SoP4</strong></p></td>
<td class="text-left"><p>UNCTAD 분류: 4단계 자본재 (Capital goods)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="trade">
<h3>예 1: 한국 Trade<a class="headerlink" href="#trade" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;df_wits_tradestats_trade&quot;</span><span class="p">,</span>  <span class="c1"># df_wits_tradestats_tariff, df_wits_tradestats_development 가능</span>
    <span class="s2">&quot;freq&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reporter&quot;</span><span class="p">:</span> <span class="s2">&quot;KOR&quot;</span><span class="p">,</span>
    <span class="s2">&quot;partner&quot;</span><span class="p">:</span> <span class="s2">&quot;WLD&quot;</span><span class="p">,</span>
    <span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;indicator&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;Full&quot;</span>
<span class="p">}</span>

<span class="c1"># 연도 범위 설정</span>
<span class="n">start_year</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="n">end_year</span> <span class="o">=</span> <span class="mi">2022</span>

<span class="c1"># 연도별 데이터 수집</span>
<span class="n">all_data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start_year</span><span class="p">,</span> <span class="n">end_year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="c1"># 요청 URL 생성</span>
    <span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;freq&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;reporter&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;partner&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;product&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;indicator&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;?startperiod=</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;&amp;endperiod=</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;&amp;detail=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;detail&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="c1"># API 요청</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error fetching data for year </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">continue</span>

    <span class="c1"># XML 파싱</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
    <span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.sdmx.org/resources/sdmxml/schemas/v2_1/data/generic&quot;</span><span class="p">}</span>

    <span class="c1"># 데이터 추출</span>
    <span class="k">for</span> <span class="n">series</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Series&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
        <span class="n">series_key</span> <span class="o">=</span> <span class="p">{</span><span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">dim</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:SeriesKey/ns:Value&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)}</span>
        <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Obs&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
            <span class="n">obs_time</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.//ns:ObsDimension&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>
            <span class="n">obs_value</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.//ns:ObsValue&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>
            <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">obs</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Attributes/ns:Value&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)}</span>
            <span class="k">if</span> <span class="n">obs_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">obs_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">all_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="o">**</span><span class="n">series_key</span><span class="p">,</span> <span class="s2">&quot;Time&quot;</span><span class="p">:</span> <span class="n">obs_time</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">),</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="n">obs_value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">),</span> <span class="o">**</span><span class="n">attributes</span><span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_trade</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span>

<span class="c1"># 결과 출력</span>
<span class="n">df_trade</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FREQ</th>
      <th>REPORTER</th>
      <th>PARTNER</th>
      <th>PRODUCTCODE</th>
      <th>INDICATOR</th>
      <th>Time</th>
      <th>Value</th>
      <th>DATASOURCE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>01-05_Animal</td>
      <td>CNTRY-GRWTH</td>
      <td>2000</td>
      <td>-8.97265078429199</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>01-05_Animal</td>
      <td>MPRT-PRDCT-SHR</td>
      <td>2000</td>
      <td>1.6427</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>01-05_Animal</td>
      <td>MPRT-TRD-VL</td>
      <td>2000</td>
      <td>2636262.957</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>01-05_Animal</td>
      <td>RCA</td>
      <td>2000</td>
      <td>0.35</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>01-05_Animal</td>
      <td>WRLD-GRWTH</td>
      <td>2000</td>
      <td>1.16090331291945</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4802</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>UNCTAD-SoP4</td>
      <td>MPRT-TRD-VL</td>
      <td>2022</td>
      <td>218061552.407</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>4803</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>UNCTAD-SoP4</td>
      <td>RCA</td>
      <td>2022</td>
      <td>1.73</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>4804</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>UNCTAD-SoP4</td>
      <td>WRLD-GRWTH</td>
      <td>2022</td>
      <td>1.18167698301217</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>4805</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>UNCTAD-SoP4</td>
      <td>XPRT-PRDCT-SHR</td>
      <td>2022</td>
      <td>46.6195</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>4806</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>UNCTAD-SoP4</td>
      <td>XPRT-TRD-VL</td>
      <td>2022</td>
      <td>318668017.245</td>
      <td>WITS-CMT</td>
    </tr>
  </tbody>
</table>
<p>4807 rows × 8 columns</p>
</div></div></div>
</div>
<p><strong>CNTRY-GRWTH (수입 성장률, %)</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 필터링 조건 설정</span>
<span class="n">filtered_df</span> <span class="o">=</span> <span class="n">df_trade</span><span class="p">[</span>
    <span class="p">(</span><span class="n">df_trade</span><span class="p">[</span><span class="s2">&quot;PRODUCTCODE&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Total&quot;</span><span class="p">)</span> <span class="o">&amp;</span>
    <span class="p">(</span><span class="n">df_trade</span><span class="p">[</span><span class="s2">&quot;INDICATOR&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;CNTRY-GRWTH&quot;</span><span class="p">)</span>
<span class="p">]</span>

<span class="c1"># 결과 출력</span>
<span class="n">filtered_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FREQ</th>
      <th>REPORTER</th>
      <th>PARTNER</th>
      <th>PRODUCTCODE</th>
      <th>INDICATOR</th>
      <th>Time</th>
      <th>Value</th>
      <th>DATASOURCE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>167</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2000</td>
      <td>12.4311396518963</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>376</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2001</td>
      <td>-5.40553434536144</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>585</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2002</td>
      <td>3.66165966275138</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>794</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2003</td>
      <td>10.3118272265168</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>1003</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2004</td>
      <td>14.2594316917525</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>1212</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2005</td>
      <td>6.21609792528253</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>1421</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2006</td>
      <td>8.12271427865012</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>1630</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2007</td>
      <td>5.06051497610363</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>1839</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2008</td>
      <td>5.26576099651725</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>2048</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2009</td>
      <td>-8.9093135883835</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>2257</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2010</td>
      <td>14.7180982371678</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>2466</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2011</td>
      <td>8.24898376150296</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>2675</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2012</td>
      <td>1.10761574878329</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>2884</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2013</td>
      <td>2.07260751703433</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>3093</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2014</td>
      <td>0.982142260527685</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>3302</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2015</td>
      <td>-3.80602400188699</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>3511</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2016</td>
      <td>-1.97958296624113</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>3720</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2017</td>
      <td>7.47304855962243</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>3929</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2018</td>
      <td>3.016091538884</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>4138</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2019</td>
      <td>-4.33498880188689</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>4347</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2020</td>
      <td>-1.62185326935753</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>4556</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2021</td>
      <td>12.6584635808455</td>
      <td>WITS-CMT</td>
    </tr>
    <tr>
      <th>4765</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>Total</td>
      <td>CNTRY-GRWTH</td>
      <td>2022</td>
      <td>3.67541372076294</td>
      <td>WITS-CMT</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filtered_df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 23 entries, 167 to 4765
Data columns (total 8 columns):
 #   Column       Non-Null Count  Dtype 
---  ------       --------------  ----- 
 0   FREQ         23 non-null     object
 1   REPORTER     23 non-null     object
 2   PARTNER      23 non-null     object
 3   PRODUCTCODE  23 non-null     object
 4   INDICATOR    23 non-null     object
 5   Time         23 non-null     object
 6   Value        23 non-null     object
 7   DATASOURCE   23 non-null     object
dtypes: object(8)
memory usage: 1.6+ KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filtered_df</span> <span class="o">=</span> <span class="n">filtered_df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Time&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Value&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># 그래프 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Time&quot;</span><span class="p">],</span> <span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Value&quot;</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>

<span class="c1"># 그래프 제목 및 레이블 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Total Import Growth&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Time (Year)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Value (%)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/73d7bb0cd01dc41543fd45bb6987b990d6c9b682d4b22b4ac51b652ffd00e788.png" src="../_images/73d7bb0cd01dc41543fd45bb6987b990d6c9b682d4b22b4ac51b652ffd00e788.png" />
</div>
</div>
</section>
<section id="tariff">
<h3>예 2: 한국 Tariff<a class="headerlink" href="#tariff" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># API 기본 URL</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://wits.worldbank.org/API/V1/SDMX/V21/rest/data/&quot;</span>

<span class="c1"># 요청 파라미터 설정</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;df_wits_tradestats_tariff&quot;</span><span class="p">,</span>  <span class="c1"># df_wits_tradestats_trade, df_wits_tradestats_development 가능</span>
    <span class="s2">&quot;freq&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reporter&quot;</span><span class="p">:</span> <span class="s2">&quot;KOR&quot;</span><span class="p">,</span>
    <span class="s2">&quot;partner&quot;</span><span class="p">:</span> <span class="s2">&quot;WLD&quot;</span><span class="p">,</span>
    <span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;indicator&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;Full&quot;</span>
<span class="p">}</span>

<span class="c1"># 연도 범위 설정</span>
<span class="n">start_year</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="n">end_year</span> <span class="o">=</span> <span class="mi">2022</span>

<span class="c1"># 연도별 데이터 수집</span>
<span class="n">all_data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start_year</span><span class="p">,</span> <span class="n">end_year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="c1"># 요청 URL 생성</span>
    <span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;freq&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;reporter&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;partner&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;product&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;indicator&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;?startperiod=</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;&amp;endperiod=</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;&amp;detail=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;detail&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="c1"># API 요청</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error fetching data for year </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">continue</span>

    <span class="c1"># XML 파싱</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
    <span class="n">namespace</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ns&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.sdmx.org/resources/sdmxml/schemas/v2_1/data/generic&quot;</span><span class="p">}</span>

    <span class="c1"># 데이터 추출</span>
    <span class="k">for</span> <span class="n">series</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Series&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
        <span class="n">series_key</span> <span class="o">=</span> <span class="p">{</span><span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">dim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">dim</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:SeriesKey/ns:Value&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)}</span>
        <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Obs&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">):</span>
            <span class="n">obs_time</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.//ns:ObsDimension&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>
            <span class="n">obs_value</span> <span class="o">=</span> <span class="n">obs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.//ns:ObsValue&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>
            <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span> <span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">obs</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;.//ns:Attributes/ns:Value&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)}</span>
            <span class="k">if</span> <span class="n">obs_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">obs_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">all_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="o">**</span><span class="n">series_key</span><span class="p">,</span> <span class="s2">&quot;Time&quot;</span><span class="p">:</span> <span class="n">obs_time</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">),</span> <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="n">obs_value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">),</span> <span class="o">**</span><span class="n">attributes</span><span class="p">})</span>

<span class="c1"># 데이터프레임 변환</span>
<span class="n">df_tariff</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span>

<span class="c1"># 결과 출력</span>
<span class="n">df_tariff</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Error fetching data for year 2019: 404
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FREQ</th>
      <th>REPORTER</th>
      <th>PARTNER</th>
      <th>PRODUCTCODE</th>
      <th>INDICATOR</th>
      <th>Time</th>
      <th>Value</th>
      <th>DATASOURCE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>01-05_Animal</td>
      <td>AHS-AVE-TRFF-LN-SHR</td>
      <td>2000</td>
      <td>0.231850456455586</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>01-05_Animal</td>
      <td>AHS-DTBL-MPRT</td>
      <td>2000</td>
      <td>2634922.208</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>01-05_Animal</td>
      <td>AHS-DTBL-TRFF-LNS-SHR</td>
      <td>2000</td>
      <td>99.3044486306332</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>01-05_Animal</td>
      <td>AHS-DTY-FR-MPRTs</td>
      <td>2000</td>
      <td>1340.749</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>01-05_Animal</td>
      <td>AHS-DTY-FR-TRFF-LNS-SHR</td>
      <td>2000</td>
      <td>0.463700912911172</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>15329</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>UNCTAD-SoP4</td>
      <td>MFN-SMPL-AVRG</td>
      <td>2022</td>
      <td>5.11959813377355</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>15330</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>UNCTAD-SoP4</td>
      <td>MFN-SPCFC-DTY-MPRT</td>
      <td>2022</td>
      <td>0</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>15331</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>UNCTAD-SoP4</td>
      <td>MFN-SPCFC-TRFF-LNS-SHR</td>
      <td>2022</td>
      <td>0</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>15332</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>UNCTAD-SoP4</td>
      <td>MFN-TTL-TRFF-LNS</td>
      <td>2022</td>
      <td>2079</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>15333</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>UNCTAD-SoP4</td>
      <td>MFN-WGHTD-AVRG</td>
      <td>2022</td>
      <td>1.9855706429371</td>
      <td>WITS-TRN</td>
    </tr>
  </tbody>
</table>
<p>15334 rows × 8 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_tariff</span><span class="p">[</span><span class="s2">&quot;PRODUCTCODE&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;01-05_Animal&#39;, &#39;06-15_Vegetable&#39;, &#39;16-24_FoodProd&#39;,
       &#39;25-26_Minerals&#39;, &#39;27-27_Fuels&#39;, &#39;28-38_Chemicals&#39;,
       &#39;39-40_PlastiRub&#39;, &#39;41-43_HidesSkin&#39;, &#39;44-49_Wood&#39;,
       &#39;50-63_TextCloth&#39;, &#39;64-67_Footwear&#39;, &#39;68-71_StoneGlas&#39;,
       &#39;72-83_Metals&#39;, &#39;84-85_MachElec&#39;, &#39;86-89_Transport&#39;,
       &#39;90-99_Miscellan&#39;, &#39;999999&#39;, &#39;AgrRaw&#39;, &#39;Chemical&#39;, &#39;Food&#39;, &#39;Fuels&#39;,
       &#39;manuf&#39;, &#39;OresMtls&#39;, &#39;Textiles&#39;, &#39;Total&#39;, &#39;Transp&#39;, &#39;UNCTAD-SoP1&#39;,
       &#39;UNCTAD-SoP2&#39;, &#39;UNCTAD-SoP3&#39;, &#39;UNCTAD-SoP4&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_tariff</span><span class="p">[</span><span class="s2">&quot;INDICATOR&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;AHS-AVE-TRFF-LN-SHR&#39;, &#39;AHS-DTBL-MPRT&#39;, &#39;AHS-DTBL-TRFF-LNS-SHR&#39;,
       &#39;AHS-DTY-FR-MPRTs&#39;, &#39;AHS-DTY-FR-TRFF-LNS-SHR&#39;, &#39;AHS-MNMM-RATE&#39;,
       &#39;AHS-MXMM-RT&#39;, &#39;AHS-SMPL-AVRG&#39;, &#39;AHS-SPCFC-DTY-MPRT&#39;,
       &#39;AHS-SPCFC-TRFF-LNS-SHR&#39;, &#39;AHS-TTL-TRFF-LNS&#39;, &#39;AHS-WGHTD-AVRG&#39;,
       &#39;MFN-AVE-TRFF-LNS-SHR&#39;, &#39;MFN-DTBL-MPRT&#39;, &#39;MFN-DTBL-TRFF-LNS-SHR&#39;,
       &#39;MFN-DTY-FR-MPRTs&#39;, &#39;MFN-DTY-FR-TRFF-LNS-SHR&#39;, &#39;MFN-MNMN-RT&#39;,
       &#39;MFN-MXMM-RT&#39;, &#39;MFN-SMPL-AVRG&#39;, &#39;MFN-SPCFC-DTY-MPRT&#39;,
       &#39;MFN-SPCFC-TRFF-LNS-SHR&#39;, &#39;MFN-TTL-TRFF-LNS&#39;, &#39;MFN-WGHTD-AVRG&#39;,
       &#39;TRF-NMBR-AGGRMNT&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 필터링 조건 설정</span>
<span class="n">filtered_df</span> <span class="o">=</span> <span class="n">df_tariff</span><span class="p">[</span>
    <span class="p">(</span><span class="n">df_tariff</span><span class="p">[</span><span class="s2">&quot;PRODUCTCODE&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;manuf&quot;</span><span class="p">)</span> <span class="o">&amp;</span>
    <span class="p">(</span><span class="n">df_tariff</span><span class="p">[</span><span class="s2">&quot;INDICATOR&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;AHS-SMPL-AVRG&quot;</span><span class="p">)</span>
<span class="p">]</span>

<span class="c1"># 결과 출력</span>
<span class="n">filtered_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FREQ</th>
      <th>REPORTER</th>
      <th>PARTNER</th>
      <th>PRODUCTCODE</th>
      <th>INDICATOR</th>
      <th>Time</th>
      <th>Value</th>
      <th>DATASOURCE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>488</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2000</td>
      <td>8.04871188694919</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>1185</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2001</td>
      <td>8.0006037781408</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>1882</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2002</td>
      <td>7.84739834719468</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>2579</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2003</td>
      <td>7.65289036537507</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>3276</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2004</td>
      <td>7.28273166404962</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>3973</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2005</td>
      <td>7.2546772188867</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>4670</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2006</td>
      <td>7.3272158998234</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>5367</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2007</td>
      <td>6.60067248716548</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>6064</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2008</td>
      <td>7.43864307649827</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>6761</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2009</td>
      <td>7.39792922732952</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>7458</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2010</td>
      <td>7.44400933420184</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>8155</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2011</td>
      <td>7.53737100851283</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>8852</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2012</td>
      <td>7.34146807573551</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>9549</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2013</td>
      <td>7.28984087439499</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>10246</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2014</td>
      <td>3.0961743198454</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>10943</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2015</td>
      <td>2.72273981815983</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>11640</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2016</td>
      <td>7.41404104957459</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>12337</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2017</td>
      <td>2.43526584179808</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>13034</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2018</td>
      <td>2.39168680965287</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>13731</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2020</td>
      <td>2.41182030619991</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>14428</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2021</td>
      <td>2.19497521200193</td>
      <td>WITS-TRN</td>
    </tr>
    <tr>
      <th>15125</th>
      <td>A</td>
      <td>KOR</td>
      <td>WLD</td>
      <td>manuf</td>
      <td>AHS-SMPL-AVRG</td>
      <td>2022</td>
      <td>7.06426716994321</td>
      <td>WITS-TRN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filtered_df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 22 entries, 488 to 15125
Data columns (total 8 columns):
 #   Column       Non-Null Count  Dtype 
---  ------       --------------  ----- 
 0   FREQ         22 non-null     object
 1   REPORTER     22 non-null     object
 2   PARTNER      22 non-null     object
 3   PRODUCTCODE  22 non-null     object
 4   INDICATOR    22 non-null     object
 5   Time         22 non-null     object
 6   Value        22 non-null     object
 7   DATASOURCE   22 non-null     object
dtypes: object(8)
memory usage: 1.5+ KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filtered_df</span> <span class="o">=</span> <span class="n">filtered_df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Time&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Value&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># 그래프 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Time&quot;</span><span class="p">],</span> <span class="n">filtered_df</span><span class="p">[</span><span class="s2">&quot;Value&quot;</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>

<span class="c1"># 그래프 제목 및 레이블 설정</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;AHS Simple Average for Manufacture Products (%)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Time (Year)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Value (%)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/99bb675e3221f8d1ba1371ec9f9d337ea36afbebeab3555a7927b44ae632cfce.png" src="../_images/99bb675e3221f8d1ba1371ec9f9d337ea36afbebeab3555a7927b44ae632cfce.png" />
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="22%20UN%20Comtrade%20API%20%EC%B6%94%EC%B6%9C.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">2 UN Comtrade API 추출</p>
      </div>
    </a>
    <a class="right-next"
       href="24%20WTO%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20API%20%EC%B6%94%EC%B6%9C.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">4 WTO 데이터 API 추출</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">1. 개요</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#trains-api">2. TRAINS 데이터 API 추출</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">2.1 내용</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#url">2.2 URL 기반 구조 요청</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#chatgpt-api">ChatGPT 이용 API 호출 코드 작성법</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reporter-and-partner">Reporter and Partner</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nomenclature">Nomenclature</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#product">Product</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#data-availability">Data Availability</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tariff-data">Tariff Data</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdmx">2.3 SDMX 쿼리 요청</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#data-flow">Data Flow</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#code-list">Code List</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#data-structure-definition-dsd">Data Structure Definition (DSD)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Tariff Data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#trade-stats-api">3. TRADE Stats 데이터 API 추출</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">3.1 내용</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">3.2 URL 기반 구조 요청</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Reporter and Partner</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Nomenclature</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Product</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#indicator">Indicator</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Data Availability</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#trade-stats">Trade Stats 데이터</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">3.3 SDMX 쿼리 요청</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Data Flow</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Code List</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Data Structure Definition (DSD)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Trade Stats 데이터</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">4. 관세 데이터 추출</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">파라미터 및 반환 항목</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">예 1: 한국 2000년 관세 데이터</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">예 2: 한국 2000-23년 관세 데이터</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">5. 무역 통계 데이터 추출</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indicator-product">파라미터 및 Indicator &amp; Product 코드</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#trade">예 1: 한국 Trade</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tariff">예 2: 한국 Tariff</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By 최필선 민인식
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>